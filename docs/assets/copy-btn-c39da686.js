import{g as Mn,_ as v,f as Qe,o as Ze,r as m,k as Dn,i as Bn,j as C,R as ue}from"./index-fc8ed91c.js";import"./get-usr-map-cd6eda0e.js";import{c as en}from"./createSvgIcon-6778c479.js";import{b as jn,g as Nn,s as ge,h as An,u as Fn,d as $n,c as q,a as Vn}from"./ButtonBase-b7cf2afe.js";import{u as Hn}from"./useTheme-b294d643.js";import{M as nn}from"./Popper-62410c93.js";import{u as Un}from"./useControlled-eaea5033.js";import{u as zn}from"./useId-25c6ae2d.js";import{G as We}from"./Grow-e4ad5fae.js";import{a as Y}from"./List-f0c24520.js";import{I as Wn}from"./IconButton-9a757063.js";var on={exports:{}},Kn="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Gn=Kn,qn=Gn;function tn(){}function rn(){}rn.resetWarningCache=tn;var Yn=function(){function n(e,i,a,l,s,c){if(c!==qn){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function o(){return n}var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:rn,resetWarningCache:tn};return r.PropTypes=r,r};on.exports=Yn();var t=on.exports;const Io=Mn(t);function Jn(n){return Nn("MuiTooltip",n)}const Xn=jn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),O=Xn,Qn=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Zn(n){return Math.round(n*1e5)/1e5}const eo=n=>{const{classes:o,disableInteractive:r,arrow:e,touch:i,placement:a}=n,l={popper:["popper",!r&&"popperInteractive",e&&"popperArrow"],tooltip:["tooltip",e&&"tooltipArrow",i&&"touch",`tooltipPlacement${Qe(a.split("-")[0])}`],arrow:["arrow"]};return Vn(l,Jn,o)},no=ge(nn,{name:"MuiTooltip",slot:"Popper",overridesResolver:(n,o)=>{const{ownerState:r}=n;return[o.popper,!r.disableInteractive&&o.popperInteractive,r.arrow&&o.popperArrow,!r.open&&o.popperClose]}})(({theme:n,ownerState:o,open:r})=>v({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none"},!o.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},o.arrow&&{[`&[data-popper-placement*="bottom"] .${O.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${O.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${O.arrow}`]:v({},o.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${O.arrow}`]:v({},o.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),oo=ge("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(n,o)=>{const{ownerState:r}=n;return[o.tooltip,r.touch&&o.touch,r.arrow&&o.tooltipArrow,o[`tooltipPlacement${Qe(r.placement.split("-")[0])}`]]}})(({theme:n,ownerState:o})=>v({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:Ze(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium},o.arrow&&{position:"relative",margin:0},o.touch&&{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:`${Zn(16/14)}em`,fontWeight:n.typography.fontWeightRegular},{[`.${O.popper}[data-popper-placement*="left"] &`]:v({transformOrigin:"right center"},o.isRtl?v({marginLeft:"14px"},o.touch&&{marginLeft:"24px"}):v({marginRight:"14px"},o.touch&&{marginRight:"24px"})),[`.${O.popper}[data-popper-placement*="right"] &`]:v({transformOrigin:"left center"},o.isRtl?v({marginRight:"14px"},o.touch&&{marginRight:"24px"}):v({marginLeft:"14px"},o.touch&&{marginLeft:"24px"})),[`.${O.popper}[data-popper-placement*="top"] &`]:v({transformOrigin:"center bottom",marginBottom:"14px"},o.touch&&{marginBottom:"24px"}),[`.${O.popper}[data-popper-placement*="bottom"] &`]:v({transformOrigin:"center top",marginTop:"14px"},o.touch&&{marginTop:"24px"})})),to=ge("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(n,o)=>o.arrow})(({theme:n})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:n.vars?n.vars.palette.Tooltip.bg:Ze(n.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let J=!1,fe=null,$={x:0,y:0};function X(n,o){return r=>{o&&o(r),n(r)}}const ro=m.forwardRef(function(o,r){var e,i,a,l,s,c,p,d,f,h,y,g,b,w,P,S,D,ye,be;const Z=Dn({props:o,name:"MuiTooltip"}),{arrow:Te=!1,children:ee,components:V={},componentsProps:k={},describeChild:ln=!1,disableFocusListener:cn=!1,disableHoverListener:Ce=!1,disableInteractive:pn=!1,disableTouchListener:un=!1,enterDelay:we=100,enterNextDelay:Ee=0,enterTouchDelay:fn=700,followCursor:ne=!1,id:dn,leaveDelay:Pe=0,leaveTouchDelay:hn=1500,onClose:_e,onOpen:Se,open:vn,placement:Re="bottom",PopperComponent:oe,PopperProps:x={},slotProps:L={},slots:H={},title:M,TransitionComponent:mn=We,TransitionProps:gn}=Z,Oe=Bn(Z,Qn),R=m.isValidElement(ee)?ee:C.jsx("span",{children:ee}),te=Hn(),yn=te.direction==="rtl",[B,ke]=m.useState(),[re,bn]=m.useState(null),U=m.useRef(!1),ie=pn||ne,z=m.useRef(),W=m.useRef(),I=m.useRef(),xe=m.useRef(),[Tn,Le]=Un({controlled:vn,default:!1,name:"Tooltip",state:"open"});let _=Tn;const ae=zn(dn),j=m.useRef(),K=m.useCallback(()=>{j.current!==void 0&&(document.body.style.WebkitUserSelect=j.current,j.current=void 0),clearTimeout(xe.current)},[]);m.useEffect(()=>()=>{clearTimeout(z.current),clearTimeout(W.current),clearTimeout(I.current),K()},[K]);const Ie=u=>{clearTimeout(fe),J=!0,Le(!0),Se&&!_&&Se(u)},G=An(u=>{clearTimeout(fe),fe=setTimeout(()=>{J=!1},800+Pe),Le(!1),_e&&_&&_e(u),clearTimeout(z.current),z.current=setTimeout(()=>{U.current=!1},te.transitions.duration.shortest)}),se=u=>{U.current&&u.type!=="touchstart"||(B&&B.removeAttribute("title"),clearTimeout(W.current),clearTimeout(I.current),we||J&&Ee?W.current=setTimeout(()=>{Ie(u)},J?Ee:we):Ie(u))},Me=u=>{clearTimeout(W.current),clearTimeout(I.current),I.current=setTimeout(()=>{G(u)},Pe)},{isFocusVisibleRef:De,onBlur:Cn,onFocus:wn,ref:En}=Fn(),[,Be]=m.useState(!1),je=u=>{Cn(u),De.current===!1&&(Be(!1),Me(u))},Ne=u=>{B||ke(u.currentTarget),wn(u),De.current===!0&&(Be(!0),se(u))},Ae=u=>{U.current=!0;const T=R.props;T.onTouchStart&&T.onTouchStart(u)},Fe=se,$e=Me,Pn=u=>{Ae(u),clearTimeout(I.current),clearTimeout(z.current),K(),j.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",xe.current=setTimeout(()=>{document.body.style.WebkitUserSelect=j.current,se(u)},fn)},_n=u=>{R.props.onTouchEnd&&R.props.onTouchEnd(u),K(),clearTimeout(I.current),I.current=setTimeout(()=>{G(u)},hn)};m.useEffect(()=>{if(!_)return;function u(T){(T.key==="Escape"||T.key==="Esc")&&G(T)}return document.addEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)}},[G,_]);const Sn=$n(R.ref,En,ke,r);!M&&M!==0&&(_=!1);const le=m.useRef(),Rn=u=>{const T=R.props;T.onMouseMove&&T.onMouseMove(u),$={x:u.clientX,y:u.clientY},le.current&&le.current.update()},N={},ce=typeof M=="string";ln?(N.title=!_&&ce&&!Ce?M:null,N["aria-describedby"]=_?ae:null):(N["aria-label"]=ce?M:null,N["aria-labelledby"]=_&&!ce?ae:null);const E=v({},N,Oe,R.props,{className:q(Oe.className,R.props.className),onTouchStart:Ae,ref:Sn},ne?{onMouseMove:Rn}:{}),A={};un||(E.onTouchStart=Pn,E.onTouchEnd=_n),Ce||(E.onMouseOver=X(Fe,E.onMouseOver),E.onMouseLeave=X($e,E.onMouseLeave),ie||(A.onMouseOver=Fe,A.onMouseLeave=$e)),cn||(E.onFocus=X(Ne,E.onFocus),E.onBlur=X(je,E.onBlur),ie||(A.onFocus=Ne,A.onBlur=je));const On=m.useMemo(()=>{var u;let T=[{name:"arrow",enabled:!!re,options:{element:re,padding:4}}];return(u=x.popperOptions)!=null&&u.modifiers&&(T=T.concat(x.popperOptions.modifiers)),v({},x.popperOptions,{modifiers:T})},[re,x]),F=v({},Z,{isRtl:yn,arrow:Te,disableInteractive:ie,placement:Re,PopperComponentProp:oe,touch:U.current}),pe=eo(F),Ve=(e=(i=H.popper)!=null?i:V.Popper)!=null?e:no,He=(a=(l=(s=H.transition)!=null?s:V.Transition)!=null?l:mn)!=null?a:We,Ue=(c=(p=H.tooltip)!=null?p:V.Tooltip)!=null?c:oo,ze=(d=(f=H.arrow)!=null?f:V.Arrow)!=null?d:to,kn=Y(Ve,v({},x,(h=L.popper)!=null?h:k.popper,{className:q(pe.popper,x==null?void 0:x.className,(y=(g=L.popper)!=null?g:k.popper)==null?void 0:y.className)}),F),xn=Y(He,v({},gn,(b=L.transition)!=null?b:k.transition),F),Ln=Y(Ue,v({},(w=L.tooltip)!=null?w:k.tooltip,{className:q(pe.tooltip,(P=(S=L.tooltip)!=null?S:k.tooltip)==null?void 0:P.className)}),F),In=Y(ze,v({},(D=L.arrow)!=null?D:k.arrow,{className:q(pe.arrow,(ye=(be=L.arrow)!=null?be:k.arrow)==null?void 0:ye.className)}),F);return C.jsxs(m.Fragment,{children:[m.cloneElement(R,E),C.jsx(Ve,v({as:oe??nn,placement:Re,anchorEl:ne?{getBoundingClientRect:()=>({top:$.y,left:$.x,right:$.x,bottom:$.y,width:0,height:0})}:B,popperRef:le,open:B?_:!1,id:ae,transition:!0},A,kn,{popperOptions:On,children:({TransitionProps:u})=>C.jsx(He,v({timeout:te.transitions.duration.shorter},u,xn,{children:C.jsxs(Ue,v({},Ln,{children:[M,Te?C.jsx(ze,v({},In,{ref:bn})):null]}))}))}))]})}),io=ro,ao=en(C.jsx("path",{d:"M15 20H5V7c0-.55-.45-1-1-1s-1 .45-1 1v13c0 1.1.9 2 2 2h10c.55 0 1-.45 1-1s-.45-1-1-1zm5-4V4c0-1.1-.9-2-2-2H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2zm-2 0H9V4h9v12z"}),"ContentCopyRounded"),so=en(C.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.24 11.28L9.69 11.2c-.38-.39-.38-1.01 0-1.4.39-.39 1.02-.39 1.41 0l1.36 1.37 4.42-4.46c.39-.39 1.02-.39 1.41 0 .38.39.38 1.01 0 1.4l-5.13 5.17c-.37.4-1.01.4-1.4 0zM3 6c-.55 0-1 .45-1 1v13c0 1.1.9 2 2 2h13c.55 0 1-.45 1-1s-.45-1-1-1H5c-.55 0-1-.45-1-1V7c0-.55-.45-1-1-1z"}),"LibraryAddCheckRounded");var ve=globalThis&&globalThis.__assign||function(){return ve=Object.assign||function(n){for(var o,r=1,e=arguments.length;r<e;r++){o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},ve.apply(this,arguments)},an={onActivate:t.func,onAddUndo:t.func,onBeforeAddUndo:t.func,onBeforeExecCommand:t.func,onBeforeGetContent:t.func,onBeforeRenderUI:t.func,onBeforeSetContent:t.func,onBeforePaste:t.func,onBlur:t.func,onChange:t.func,onClearUndos:t.func,onClick:t.func,onContextMenu:t.func,onCommentChange:t.func,onCopy:t.func,onCut:t.func,onDblclick:t.func,onDeactivate:t.func,onDirty:t.func,onDrag:t.func,onDragDrop:t.func,onDragEnd:t.func,onDragGesture:t.func,onDragOver:t.func,onDrop:t.func,onExecCommand:t.func,onFocus:t.func,onFocusIn:t.func,onFocusOut:t.func,onGetContent:t.func,onHide:t.func,onInit:t.func,onKeyDown:t.func,onKeyPress:t.func,onKeyUp:t.func,onLoadContent:t.func,onMouseDown:t.func,onMouseEnter:t.func,onMouseLeave:t.func,onMouseMove:t.func,onMouseOut:t.func,onMouseOver:t.func,onMouseUp:t.func,onNodeChange:t.func,onObjectResizeStart:t.func,onObjectResized:t.func,onObjectSelected:t.func,onPaste:t.func,onPostProcess:t.func,onPostRender:t.func,onPreProcess:t.func,onProgressState:t.func,onRedo:t.func,onRemove:t.func,onReset:t.func,onSaveContent:t.func,onSelectionChange:t.func,onSetAttrib:t.func,onSetContent:t.func,onShow:t.func,onSubmit:t.func,onUndo:t.func,onVisualAid:t.func,onSkinLoadError:t.func,onThemeLoadError:t.func,onModelLoadError:t.func,onPluginLoadError:t.func,onIconsLoadError:t.func,onLanguageLoadError:t.func,onScriptsLoad:t.func,onScriptsLoadError:t.func},lo=ve({apiKey:t.string,id:t.string,inline:t.bool,init:t.object,initialValue:t.string,onEditorChange:t.func,value:t.string,tagName:t.string,cloudChannel:t.string,plugins:t.oneOfType([t.string,t.array]),toolbar:t.oneOfType([t.string,t.array]),disabled:t.bool,textareaName:t.string,tinymceScriptSrc:t.oneOfType([t.string,t.arrayOf(t.string),t.arrayOf(t.shape({src:t.string,async:t.bool,defer:t.bool}))]),rollback:t.oneOfType([t.number,t.oneOf([!1])]),scriptLoading:t.shape({async:t.bool,defer:t.bool,delay:t.number})},an),de=function(n){return typeof n=="function"},Ke=function(n){return n in an},Ge=function(n){return n.substr(2)},co=function(n,o,r,e,i,a,l){var s=Object.keys(i).filter(Ke),c=Object.keys(a).filter(Ke),p=s.filter(function(f){return a[f]===void 0}),d=c.filter(function(f){return i[f]===void 0});p.forEach(function(f){var h=Ge(f),y=l[h];r(h,y),delete l[h]}),d.forEach(function(f){var h=e(n,f),y=Ge(f);l[y]=h,o(y,h)})},po=function(n,o,r,e,i){return co(i,n.on.bind(n),n.off.bind(n),function(a,l){return function(s){var c;return(c=a(l))===null||c===void 0?void 0:c(s,n)}},o,r,e)},qe=0,sn=function(n){var o=Date.now(),r=Math.floor(Math.random()*1e9);return qe++,n+"_"+r+qe+String(o)},Ye=function(n){return n!==null&&(n.tagName.toLowerCase()==="textarea"||n.tagName.toLowerCase()==="input")},Je=function(n){return typeof n>"u"||n===""?[]:Array.isArray(n)?n:n.split(" ")},uo=function(n,o){return Je(n).concat(Je(o))},fo=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},ho=function(n){if(!("isConnected"in Node.prototype)){for(var o=n,r=n.parentNode;r!=null;)o=r,r=o.parentNode;return o===n.ownerDocument}return n.isConnected},Xe=function(n,o){n!==void 0&&(n.mode!=null&&typeof n.mode=="object"&&typeof n.mode.set=="function"?n.mode.set(o):n.setMode(o))},me=globalThis&&globalThis.__assign||function(){return me=Object.assign||function(n){for(var o,r=1,e=arguments.length;r<e;r++){o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},me.apply(this,arguments)},vo=function(n,o,r){var e,i,a=n.createElement("script");a.referrerPolicy="origin",a.type="application/javascript",a.id=o.id,a.src=o.src,a.async=(e=o.async)!==null&&e!==void 0?e:!1,a.defer=(i=o.defer)!==null&&i!==void 0?i:!1;var l=function(){a.removeEventListener("load",l),a.removeEventListener("error",s),r(o.src)},s=function(c){a.removeEventListener("load",l),a.removeEventListener("error",s),r(o.src,c)};a.addEventListener("load",l),a.addEventListener("error",s),n.head&&n.head.appendChild(a)},mo=function(n){var o={},r=function(l,s){var c=o[l];c.done=!0,c.error=s;for(var p=0,d=c.handlers;p<d.length;p++){var f=d[p];f(l,s)}c.handlers=[]},e=function(l,s,c){var p=function(S){return c!==void 0?c(S):console.error(S)};if(l.length===0){p(new Error("At least one script must be provided"));return}for(var d=0,f=!1,h=function(S,D){f||(D?(f=!0,p(D)):++d===l.length&&s())},y=0,g=l;y<g.length;y++){var b=g[y],w=o[b.src];if(w)w.done?h(b.src,w.error):w.handlers.push(h);else{var P=sn("tiny-");o[b.src]={id:P,src:b.src,done:!1,error:null,handlers:[h]},vo(n,me({id:P},b),r)}}},i=function(){for(var l,s=0,c=Object.values(o);s<c.length;s++){var p=c[s],d=n.getElementById(p.id);d!=null&&d.tagName==="SCRIPT"&&((l=d.parentNode)===null||l===void 0||l.removeChild(d))}o={}},a=function(){return n};return{loadScripts:e,deleteScripts:i,getDocument:a}},go=function(){var n=[],o=function(i){var a=n.find(function(l){return l.getDocument()===i});return a===void 0&&(a=mo(i),n.push(a)),a},r=function(i,a,l,s,c){var p=function(){return o(i).loadScripts(a,s,c)};l>0?setTimeout(p,l):p()},e=function(){for(var i=n.pop();i!=null;i=n.pop())i.deleteScripts()};return{loadList:r,reinitialize:e}},yo=go(),he=function(n){var o=n;return o&&o.tinymce?o.tinymce:null},bo=globalThis&&globalThis.__extends||function(){var n=function(o,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])},n(o,r)};return function(o,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");n(o,r);function e(){this.constructor=o}o.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}(),Q=globalThis&&globalThis.__assign||function(){return Q=Object.assign||function(n){for(var o,r=1,e=arguments.length;r<e;r++){o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},Q.apply(this,arguments)};(function(n){bo(o,n);function o(r){var e=this,i,a,l;return e=n.call(this,r)||this,e.rollbackTimer=void 0,e.valueCursor=void 0,e.rollbackChange=function(){var s=e.editor,c=e.props.value;s&&c&&c!==e.currentContent&&s.undoManager.ignore(function(){if(s.setContent(c),e.valueCursor&&(!e.inline||s.hasFocus()))try{s.selection.moveToBookmark(e.valueCursor)}catch{}}),e.rollbackTimer=void 0},e.handleBeforeInput=function(s){if(e.props.value!==void 0&&e.props.value===e.currentContent&&e.editor&&(!e.inline||e.editor.hasFocus()))try{e.valueCursor=e.editor.selection.getBookmark(3)}catch{}},e.handleBeforeInputSpecial=function(s){(s.key==="Enter"||s.key==="Backspace"||s.key==="Delete")&&e.handleBeforeInput(s)},e.handleEditorChange=function(s){var c=e.editor;if(c&&c.initialized){var p=c.getContent();e.props.value!==void 0&&e.props.value!==p&&e.props.rollback!==!1&&(e.rollbackTimer||(e.rollbackTimer=window.setTimeout(e.rollbackChange,typeof e.props.rollback=="number"?e.props.rollback:200))),p!==e.currentContent&&(e.currentContent=p,de(e.props.onEditorChange)&&e.props.onEditorChange(p,c))}},e.handleEditorChangeSpecial=function(s){(s.key==="Backspace"||s.key==="Delete")&&e.handleEditorChange(s)},e.initialise=function(s){var c,p,d;s===void 0&&(s=0);var f=e.elementRef.current;if(f){if(!ho(f)){if(s===0)setTimeout(function(){return e.initialise(1)},1);else if(s<100)setTimeout(function(){return e.initialise(s+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var h=he(e.view);if(!h)throw new Error("tinymce should have been loaded into global scope");var y=Q(Q({},e.props.init),{selector:void 0,target:f,readonly:e.props.disabled,inline:e.inline,plugins:uo((c=e.props.init)===null||c===void 0?void 0:c.plugins,e.props.plugins),toolbar:(p=e.props.toolbar)!==null&&p!==void 0?p:(d=e.props.init)===null||d===void 0?void 0:d.toolbar,setup:function(g){e.editor=g,e.bindHandlers({}),e.inline&&!Ye(f)&&g.once("PostRender",function(b){g.setContent(e.getInitialValue(),{no_events:!0})}),e.props.init&&de(e.props.init.setup)&&e.props.init.setup(g)},init_instance_callback:function(g){var b,w,P=e.getInitialValue();e.currentContent=(b=e.currentContent)!==null&&b!==void 0?b:g.getContent(),e.currentContent!==P&&(e.currentContent=P,g.setContent(P),g.undoManager.clear(),g.undoManager.add(),g.setDirty(!1));var S=(w=e.props.disabled)!==null&&w!==void 0?w:!1;Xe(e.editor,S?"readonly":"design"),e.props.init&&de(e.props.init.init_instance_callback)&&e.props.init.init_instance_callback(g)}});e.inline||(f.style.visibility=""),Ye(f)&&(f.value=e.getInitialValue()),h.init(y)}},e.id=e.props.id||sn("tiny-react"),e.elementRef=m.createRef(),e.inline=(l=(i=e.props.inline)!==null&&i!==void 0?i:(a=e.props.init)===null||a===void 0?void 0:a.inline)!==null&&l!==void 0?l:!1,e.boundHandlers={},e}return Object.defineProperty(o.prototype,"view",{get:function(){var r,e;return(e=(r=this.elementRef.current)===null||r===void 0?void 0:r.ownerDocument.defaultView)!==null&&e!==void 0?e:window},enumerable:!1,configurable:!0}),o.prototype.componentDidUpdate=function(r){var e=this,i,a;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(r),this.editor.initialized)){if(this.currentContent=(i=this.currentContent)!==null&&i!==void 0?i:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==r.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var l=this.editor;l.undoManager.transact(function(){var c;if(!e.inline||l.hasFocus())try{c=l.selection.getBookmark(3)}catch{}var p=e.valueCursor;if(l.setContent(e.props.value),!e.inline||l.hasFocus())for(var d=0,f=[c,p];d<f.length;d++){var h=f[d];if(h)try{l.selection.moveToBookmark(h),e.valueCursor=h;break}catch{}}})}if(this.props.disabled!==r.disabled){var s=(a=this.props.disabled)!==null&&a!==void 0?a:!1;Xe(this.editor,s?"readonly":"design")}}},o.prototype.componentDidMount=function(){var r=this,e,i,a,l,s;if(he(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(i=(e=this.props).onScriptsLoadError)===null||i===void 0||i.call(e,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((a=this.elementRef.current)===null||a===void 0)&&a.ownerDocument){var c=function(){var d,f;(f=(d=r.props).onScriptsLoad)===null||f===void 0||f.call(d),r.initialise()},p=function(d){var f,h;(h=(f=r.props).onScriptsLoadError)===null||h===void 0||h.call(f,d)};yo.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(s=(l=this.props.scriptLoading)===null||l===void 0?void 0:l.delay)!==null&&s!==void 0?s:0,c,p)}},o.prototype.componentWillUnmount=function(){var r=this,e=this.editor;e&&(e.off(this.changeEvents(),this.handleEditorChange),e.off(this.beforeInputEvent(),this.handleBeforeInput),e.off("keypress",this.handleEditorChangeSpecial),e.off("keydown",this.handleBeforeInputSpecial),e.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(i){e.off(i,r.boundHandlers[i])}),this.boundHandlers={},e.remove(),this.editor=void 0)},o.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},o.prototype.changeEvents=function(){var r,e,i,a=(i=(e=(r=he(this.view))===null||r===void 0?void 0:r.Env)===null||e===void 0?void 0:e.browser)===null||i===void 0?void 0:i.isIE();return a?"change keyup compositionend setcontent CommentChange":"change input compositionend setcontent CommentChange"},o.prototype.beforeInputEvent=function(){return fo()?"beforeinput SelectionChange":"SelectionChange"},o.prototype.renderInline=function(){var r=this.props.tagName,e=r===void 0?"div":r;return m.createElement(e,{ref:this.elementRef,id:this.id})},o.prototype.renderIframe=function(){return m.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},o.prototype.getScriptSources=function(){var r,e,i=(r=this.props.scriptLoading)===null||r===void 0?void 0:r.async,a=(e=this.props.scriptLoading)===null||e===void 0?void 0:e.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:i,defer:a}]:this.props.tinymceScriptSrc.map(function(p){return typeof p=="string"?{src:p,async:i,defer:a}:p});var l=this.props.cloudChannel,s=this.props.apiKey?this.props.apiKey:"no-api-key",c="https://cdn.tiny.cloud/1/".concat(s,"/tinymce/").concat(l,"/tinymce.min.js");return[{src:c,async:i,defer:a}]},o.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},o.prototype.bindHandlers=function(r){var e=this;if(this.editor!==void 0){po(this.editor,r,this.props,this.boundHandlers,function(s){return e.props[s]});var i=function(s){return s.onEditorChange!==void 0||s.value!==void 0},a=i(r),l=i(this.props);!a&&l?(this.editor.on(this.changeEvents(),this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):a&&!l&&(this.editor.off(this.changeEvents(),this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},o.propTypes=lo,o.defaultProps={cloudChannel:"6"},o})(m.Component);function To(n=0){return new Promise(o=>{setTimeout(o,n)})}ue.forwardRef((n,o)=>{const{children:r,text:e,...i}=n,[a,l]=ue.useState(!1),s=ue.useMemo(()=>r||(a?C.jsx(so,{}):C.jsx(ao,{})),[a,r]),c=async()=>{if(!a)try{await navigator.clipboard.writeText(e),l(!0),await To(1e3),l(!1)}catch(p){console.error(p),l(!1)}};return C.jsx(io,{title:"Copy the source",children:C.jsx(Wn,{ref:o,onClick:c,...i,children:s})})});export{io as M,Io as P};
