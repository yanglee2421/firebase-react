var O=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)};var i=(r,t,e)=>(O(r,t,"read from private field"),e?e.call(r):t.get(r)),d=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},p=(r,t,e,o)=>(O(r,t,"write to private field"),o?o.call(r,e):t.set(r,e),e);var b=(r,t,e)=>(O(r,t,"access private method"),e);import{S as $,s as q,m as B,o as R,p as T,r as y,a as G,n as I,j as s,L as F}from"./index-c4ee9176.js";import{u as H,F as U,I as W}from"./item-text-44f3f7be.js";import{o as A,c as Q,a as L,b as V}from"./index.esm-224c71f8.js";import"./Editor-0d9e402c.js";import{I as _,a as z,L as k,b as N,F as J}from"./item-passwd-14920cb1.js";import"./scrollbar-e82f2eb9.js";import"./copy-btn-c01bd96d.js";import{u as K}from"./use-login-79813278.js";import{s as X}from"./utils-73056672.js";import{u as Y}from"./useTheme-bbe27894.js";import{u as Z}from"./useMediaQuery-2096761d.js";import{B as x}from"./Box-e38f5600.js";import{T as w}from"./Typography-7c8b7c95.js";import{F as tt}from"./InputAdornment-bc36d813.js";import{D as et}from"./Divider-7be8f90b.js";import{I as C}from"./IconButton-c710fabc.js";import{T as st,G as rt}from"./Twitter-510ea22d.js";import{G as it}from"./GitHub-2d287cee.js";import{s as ot}from"./ButtonBase-c41b8bd3.js";import"./TextField-f0e318d4.js";import"./Select-85e9b33f.js";import"./Menu-7ec0fc5d.js";import"./Modal-ed0bc731.js";import"./List-a7885475.js";import"./ListContext-30dbc783.js";import"./Transition-748fd4ea.js";import"./ownerDocument-613eb639.js";import"./Paper-09c21db3.js";import"./Grow-8f24978b.js";import"./useControlled-c911a948.js";import"./useId-1bba8cd1.js";import"./useFormControl-fc706aba.js";import"./createSvgIcon-f78f3876.js";import"./TextareaAutosize-2f7b8300.js";import"./isMuiElement-e4380f78.js";import"./Button-9d448569.js";import"./get-usr-map-cd6eda0e.js";import"./Popper-34ce056b.js";import"./extendSxProp-0f78db64.js";import"./SwitchBase-0bf2ead7.js";import"./styled-d9ace499.js";import"./dividerClasses-d1127e51.js";var c,n,a,u,j,S,g,M,P,nt=(P=class extends ${constructor(t,e){super();d(this,j);d(this,g);d(this,c,void 0);d(this,n,void 0);d(this,a,void 0);d(this,u,void 0);p(this,n,void 0),p(this,c,t),this.setOptions(e),this.bindMethods(),b(this,j,S).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var o;const e=this.options;this.options=i(this,c).defaultMutationOptions(t),q(e,this.options)||i(this,c).getMutationCache().notify({type:"observerOptionsUpdated",mutation:i(this,a),observer:this}),(o=i(this,a))==null||o.setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=i(this,a))==null||t.removeObserver(this)}onMutationUpdate(t){b(this,j,S).call(this),b(this,g,M).call(this,t)}getCurrentResult(){return i(this,n)}reset(){p(this,a,void 0),b(this,j,S).call(this),b(this,g,M).call(this)}mutate(t,e){var o;return p(this,u,e),(o=i(this,a))==null||o.removeObserver(this),p(this,a,i(this,c).getMutationCache().build(i(this,c),this.options)),i(this,a).addObserver(this),i(this,a).execute(t)}},c=new WeakMap,n=new WeakMap,a=new WeakMap,u=new WeakMap,j=new WeakSet,S=function(){var e;const t=((e=i(this,a))==null?void 0:e.state)??B();p(this,n,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},g=new WeakSet,M=function(t){R.batch(()=>{var e,o,m,f,h,l,v,E;i(this,u)&&this.hasListeners()&&((t==null?void 0:t.type)==="success"?((o=(e=i(this,u)).onSuccess)==null||o.call(e,t.data,i(this,n).variables,i(this,n).context),(f=(m=i(this,u)).onSettled)==null||f.call(m,t.data,null,i(this,n).variables,i(this,n).context)):(t==null?void 0:t.type)==="error"&&((l=(h=i(this,u)).onError)==null||l.call(h,t.error,i(this,n).variables,i(this,n).context),(E=(v=i(this,u)).onSettled)==null||E.call(v,void 0,t.error,i(this,n).variables,i(this,n).context))),this.listeners.forEach(D=>{D(i(this,n))})})},P);function at(r,t){const e=T(t),[o]=y.useState(()=>new nt(e,r));y.useEffect(()=>{o.setOptions(r)},[o,r]);const m=y.useSyncExternalStore(y.useCallback(h=>o.subscribe(R.batchCalls(h)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),f=y.useCallback((h,l)=>{o.mutate(h,l).catch(mt)},[o]);if(m.error&&X(o.options.throwOnError,[m.error]))throw m.error;return{...m,mutate:f,mutateAsync:m.mutate}}function mt(){}function lt(r){return G({method:"POST",url:"/usr",...r})}function ut(){const r=T();return at({mutationFn(t){return lt(t)},onSuccess(t){r.setQueryData(["usr_get"],e=>e?{...e,...t}:t),I.success("Welcome back!")},onError(t){I.error(t.message)}})}function ee(){const r=H({defaultValues:{email:"admin@demo.com",passwd:"test123456",isRemember:!1},resolver:A(Q().shape({email:L().email().max(50).required(),passwd:L().min(8).max(16).required(),isRemember:V()}))}),{signIn:t}=K(),{mutateAsync:e,isPending:o}=ut(),m=r.handleSubmit(async l=>{const v=await e({data:l});t({...v,role:"admin",loginAt:0})}),f=Y(),h=Z(f.breakpoints.down("md"));return s.jsxs(x,{display:"flex",height:"100%",children:[s.jsx(x,{flex:1,overflow:"hidden",children:h&&s.jsx("h1",{children:"Hello small"})}),s.jsxs(x,{display:"flex",flexDirection:"column",justifyContent:"center",gap:4,width:"100%",maxWidth:{md:450},p:[6,12],boxShadow:l=>l.shadows[2],children:[s.jsxs(x,{children:[s.jsx(w,{variant:"h4",children:"Wellcome to here!"}),s.jsx(w,{variant:"body2",sx:{overflow:"hidden",maxHeight(l){return`calc(${l.typography.body1.lineHeight}em * 3)`}},children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Porro omnis sed fugiat placeat alias illo praesentium."})]}),s.jsx(ht,{onSubmit:m,noValidate:!0,autoComplete:"off",sx:{display:"flex",flexDirection:"column",gap:4},children:s.jsxs(U,{...r,children:[s.jsx(W,{name:"email",label:"Email"}),s.jsx(_,{name:"passwd",label:"Password"}),s.jsxs(x,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsx(tt,{control:s.jsx(z,{name:"remember"}),label:s.jsx(w,{variant:"body2",children:"Remember Me"})}),s.jsx(k,{variant:"body2",component:F,to:"/forgot-passwd",children:"Forgot Password?"})]}),s.jsx(N,{loading:o,type:"submit",variant:"contained",fullWidth:!0,size:"large",children:"sign in"})]})}),s.jsxs(x,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsx(w,{variant:"body2",children:"New on our platform?"}),s.jsx(k,{variant:"body2",component:F,to:"/register",children:"Create an account"})]}),s.jsx(et,{children:"Or"}),s.jsxs(x,{display:"flex",justifyContent:"center",gap:4,children:[s.jsx(C,{children:s.jsx(J,{})}),s.jsx(C,{children:s.jsx(st,{})}),s.jsx(C,{children:s.jsx(it,{})}),s.jsx(C,{children:s.jsx(rt,{})})]})]})]})}const ht=ot("form")({});export{ee as Component};
