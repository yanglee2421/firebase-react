import{R as G,j as Ze}from"./index-y-D59f-l.js";import{c as me,g as cr}from"./fabric-Y98Y_bQ5.js";function et(t,n){const[m,y]=G.useState(null);return G.useEffect(()=>{const _=t.current;if(!(_ instanceof Element)){console.error("Excepted an element, got falsy!");return}const p=new ResizeObserver(([v])=>{y(v)});return p.observe(_,n),()=>{p.disconnect(),y(null)}},[t,y,n]),m}/*!
 * perfect-scrollbar v1.5.3
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function J(t){return getComputedStyle(t)}function z(t,n){for(var m in n){var y=n[m];typeof y=="number"&&(y=y+"px"),t.style[m]=y}return t}function be(t){var n=document.createElement("div");return n.className=t,n}var tt=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function ne(t,n){if(!tt)throw new Error("No element matching method supported");return tt.call(t,n)}function se(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function rt(t,n){return Array.prototype.filter.call(t.children,function(m){return ne(m,n)})}var U={main:"ps",rtl:"ps__rtl",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},it={x:null,y:null};function at(t,n){var m=t.element.classList,y=U.state.scrolling(n);m.contains(y)?clearTimeout(it[n]):m.add(y)}function st(t,n){it[n]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(U.state.scrolling(n))},t.settings.scrollingThreshold)}function ur(t,n){at(t,n),st(t,n)}var he=function(n){this.element=n,this.handlers={}},lt={isEmpty:{configurable:!0}};he.prototype.bind=function(n,m){typeof this.handlers[n]>"u"&&(this.handlers[n]=[]),this.handlers[n].push(m),this.element.addEventListener(n,m,!1)};he.prototype.unbind=function(n,m){var y=this;this.handlers[n]=this.handlers[n].filter(function(_){return m&&_!==m?!0:(y.element.removeEventListener(n,_,!1),!1)})};he.prototype.unbindAll=function(){for(var n in this.handlers)this.unbind(n)};lt.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(n){return t.handlers[n].length===0})};Object.defineProperties(he.prototype,lt);var le=function(){this.eventElements=[]};le.prototype.eventElement=function(n){var m=this.eventElements.filter(function(y){return y.element===n})[0];return m||(m=new he(n),this.eventElements.push(m)),m};le.prototype.bind=function(n,m,y){this.eventElement(n).bind(m,y)};le.prototype.unbind=function(n,m,y){var _=this.eventElement(n);_.unbind(m,y),_.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(_),1)};le.prototype.unbindAll=function(){this.eventElements.forEach(function(n){return n.unbindAll()}),this.eventElements=[]};le.prototype.once=function(n,m,y){var _=this.eventElement(n),w=function(p){_.unbind(m,w),y(p)};_.bind(m,w)};function ye(t){if(typeof window.CustomEvent=="function")return new CustomEvent(t);var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,void 0),n}function Ee(t,n,m,y,_){y===void 0&&(y=!0),_===void 0&&(_=!1);var w;if(n==="top")w=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(n==="left")w=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");fr(t,m,w,y,_)}function fr(t,n,m,y,_){var w=m[0],p=m[1],v=m[2],d=m[3],R=m[4],P=m[5];y===void 0&&(y=!0),_===void 0&&(_=!1);var c=t.element;t.reach[d]=null,c[v]<1&&(t.reach[d]="start"),c[v]>t[w]-t[p]-1&&(t.reach[d]="end"),n&&(c.dispatchEvent(ye("ps-scroll-"+d)),n<0?c.dispatchEvent(ye("ps-scroll-"+R)):n>0&&c.dispatchEvent(ye("ps-scroll-"+P)),y&&ur(t,d)),t.reach[d]&&(n||_)&&c.dispatchEvent(ye("ps-"+d+"-reach-"+t.reach[d]))}function H(t){return parseInt(t,10)||0}function hr(t){return ne(t,"input,[contenteditable]")||ne(t,"select,[contenteditable]")||ne(t,"textarea,[contenteditable]")||ne(t,"button,[contenteditable]")}function dr(t){var n=J(t);return H(n.width)+H(n.paddingLeft)+H(n.paddingRight)+H(n.borderLeftWidth)+H(n.borderRightWidth)}var ae={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function ee(t){var n=t.element,m=Math.floor(n.scrollTop),y=n.getBoundingClientRect();t.containerWidth=Math.round(y.width),t.containerHeight=Math.round(y.height),t.contentWidth=n.scrollWidth,t.contentHeight=n.scrollHeight,n.contains(t.scrollbarXRail)||(rt(n,U.element.rail("x")).forEach(function(_){return se(_)}),n.appendChild(t.scrollbarXRail)),n.contains(t.scrollbarYRail)||(rt(n,U.element.rail("y")).forEach(function(_){return se(_)}),n.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=nt(t,H(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=H((t.negativeScrollAdjustment+n.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=nt(t,H(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=H(m*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),vr(n,t),t.scrollbarXActive?n.classList.add(U.state.active("x")):(n.classList.remove(U.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,n.scrollLeft=t.isRtl===!0?t.contentWidth:0),t.scrollbarYActive?n.classList.add(U.state.active("y")):(n.classList.remove(U.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,n.scrollTop=0)}function nt(t,n){return t.settings.minScrollbarLength&&(n=Math.max(n,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(n=Math.min(n,t.settings.maxScrollbarLength)),n}function vr(t,n){var m={width:n.railXWidth},y=Math.floor(t.scrollTop);n.isRtl?m.left=n.negativeScrollAdjustment+t.scrollLeft+n.containerWidth-n.contentWidth:m.left=t.scrollLeft,n.isScrollbarXUsingBottom?m.bottom=n.scrollbarXBottom-y:m.top=n.scrollbarXTop+y,z(n.scrollbarXRail,m);var _={top:y,height:n.railYHeight};n.isScrollbarYUsingRight?n.isRtl?_.right=n.contentWidth-(n.negativeScrollAdjustment+t.scrollLeft)-n.scrollbarYRight-n.scrollbarYOuterWidth-9:_.right=n.scrollbarYRight-t.scrollLeft:n.isRtl?_.left=n.negativeScrollAdjustment+t.scrollLeft+n.containerWidth*2-n.contentWidth-n.scrollbarYLeft-n.scrollbarYOuterWidth:_.left=n.scrollbarYLeft+t.scrollLeft,z(n.scrollbarYRail,_),z(n.scrollbarX,{left:n.scrollbarXLeft,width:n.scrollbarXWidth-n.railBorderXWidth}),z(n.scrollbarY,{top:n.scrollbarYTop,height:n.scrollbarYHeight-n.railBorderYWidth})}function gr(t){t.element,t.event.bind(t.scrollbarY,"mousedown",function(n){return n.stopPropagation()}),t.event.bind(t.scrollbarYRail,"mousedown",function(n){var m=n.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top,y=m>t.scrollbarYTop?1:-1;t.element.scrollTop+=y*t.containerHeight,ee(t),n.stopPropagation()}),t.event.bind(t.scrollbarX,"mousedown",function(n){return n.stopPropagation()}),t.event.bind(t.scrollbarXRail,"mousedown",function(n){var m=n.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left,y=m>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=y*t.containerWidth,ee(t),n.stopPropagation()})}function pr(t){ot(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),ot(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function ot(t,n){var m=n[0],y=n[1],_=n[2],w=n[3],p=n[4],v=n[5],d=n[6],R=n[7],P=n[8],c=t.element,S=null,I=null,T=null;function x(L){L.touches&&L.touches[0]&&(L[_]=L.touches[0].pageY),c[d]=S+T*(L[_]-I),at(t,R),ee(t),L.stopPropagation(),L.type.startsWith("touch")&&L.changedTouches.length>1&&L.preventDefault()}function W(){st(t,R),t[P].classList.remove(U.state.clicking),t.event.unbind(t.ownerDocument,"mousemove",x)}function D(L,$){S=c[d],$&&L.touches&&(L[_]=L.touches[0].pageY),I=L[_],T=(t[y]-t[m])/(t[w]-t[v]),$?t.event.bind(t.ownerDocument,"touchmove",x):(t.event.bind(t.ownerDocument,"mousemove",x),t.event.once(t.ownerDocument,"mouseup",W),L.preventDefault()),t[P].classList.add(U.state.clicking),L.stopPropagation()}t.event.bind(t[p],"mousedown",function(L){D(L)}),t.event.bind(t[p],"touchstart",function(L){D(L,!0)})}function mr(t){var n=t.element,m=function(){return ne(n,":hover")},y=function(){return ne(t.scrollbarX,":focus")||ne(t.scrollbarY,":focus")};function _(w,p){var v=Math.floor(n.scrollTop);if(w===0){if(!t.scrollbarYActive)return!1;if(v===0&&p>0||v>=t.contentHeight-t.containerHeight&&p<0)return!t.settings.wheelPropagation}var d=n.scrollLeft;if(p===0){if(!t.scrollbarXActive)return!1;if(d===0&&w<0||d>=t.contentWidth-t.containerWidth&&w>0)return!t.settings.wheelPropagation}return!0}t.event.bind(t.ownerDocument,"keydown",function(w){if(!(w.isDefaultPrevented&&w.isDefaultPrevented()||w.defaultPrevented)&&!(!m()&&!y())){var p=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(p){if(p.tagName==="IFRAME")p=p.contentDocument.activeElement;else for(;p.shadowRoot;)p=p.shadowRoot.activeElement;if(hr(p))return}var v=0,d=0;switch(w.which){case 37:w.metaKey?v=-t.contentWidth:w.altKey?v=-t.containerWidth:v=-30;break;case 38:w.metaKey?d=t.contentHeight:w.altKey?d=t.containerHeight:d=30;break;case 39:w.metaKey?v=t.contentWidth:w.altKey?v=t.containerWidth:v=30;break;case 40:w.metaKey?d=-t.contentHeight:w.altKey?d=-t.containerHeight:d=-30;break;case 32:w.shiftKey?d=t.containerHeight:d=-t.containerHeight;break;case 33:d=t.containerHeight;break;case 34:d=-t.containerHeight;break;case 36:d=t.contentHeight;break;case 35:d=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&v!==0||t.settings.suppressScrollY&&d!==0||(n.scrollTop-=d,n.scrollLeft+=v,ee(t),_(v,d)&&w.preventDefault())}})}function br(t){var n=t.element;function m(p,v){var d=Math.floor(n.scrollTop),R=n.scrollTop===0,P=d+n.offsetHeight===n.scrollHeight,c=n.scrollLeft===0,S=n.scrollLeft+n.offsetWidth===n.scrollWidth,I;return Math.abs(v)>Math.abs(p)?I=R||P:I=c||S,I?!t.settings.wheelPropagation:!0}function y(p){var v=p.deltaX,d=-1*p.deltaY;return(typeof v>"u"||typeof d>"u")&&(v=-1*p.wheelDeltaX/6,d=p.wheelDeltaY/6),p.deltaMode&&p.deltaMode===1&&(v*=10,d*=10),v!==v&&d!==d&&(v=0,d=p.wheelDelta),p.shiftKey?[-d,-v]:[v,d]}function _(p,v,d){if(!ae.isWebKit&&n.querySelector("select:focus"))return!0;if(!n.contains(p))return!1;for(var R=p;R&&R!==n;){if(R.classList.contains(U.element.consuming))return!0;var P=J(R);if(d&&P.overflowY.match(/(scroll|auto)/)){var c=R.scrollHeight-R.clientHeight;if(c>0&&(R.scrollTop>0&&d<0||R.scrollTop<c&&d>0))return!0}if(v&&P.overflowX.match(/(scroll|auto)/)){var S=R.scrollWidth-R.clientWidth;if(S>0&&(R.scrollLeft>0&&v<0||R.scrollLeft<S&&v>0))return!0}R=R.parentNode}return!1}function w(p){var v=y(p),d=v[0],R=v[1];if(!_(p.target,d,R)){var P=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(R?n.scrollTop-=R*t.settings.wheelSpeed:n.scrollTop+=d*t.settings.wheelSpeed,P=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(d?n.scrollLeft+=d*t.settings.wheelSpeed:n.scrollLeft-=R*t.settings.wheelSpeed,P=!0):(n.scrollTop-=R*t.settings.wheelSpeed,n.scrollLeft+=d*t.settings.wheelSpeed),ee(t),P=P||m(d,R),P&&!p.ctrlKey&&(p.stopPropagation(),p.preventDefault())}}typeof window.onwheel<"u"?t.event.bind(n,"wheel",w):typeof window.onmousewheel<"u"&&t.event.bind(n,"mousewheel",w)}function yr(t){if(!ae.supportsTouch&&!ae.supportsIePointer)return;var n=t.element;function m(T,x){var W=Math.floor(n.scrollTop),D=n.scrollLeft,L=Math.abs(T),$=Math.abs(x);if($>L){if(x<0&&W===t.contentHeight-t.containerHeight||x>0&&W===0)return window.scrollY===0&&x>0&&ae.isChrome}else if(L>$&&(T<0&&D===t.contentWidth-t.containerWidth||T>0&&D===0))return!0;return!0}function y(T,x){n.scrollTop-=x,n.scrollLeft-=T,ee(t)}var _={},w=0,p={},v=null;function d(T){return T.targetTouches?T.targetTouches[0]:T}function R(T){return T.pointerType&&T.pointerType==="pen"&&T.buttons===0?!1:!!(T.targetTouches&&T.targetTouches.length===1||T.pointerType&&T.pointerType!=="mouse"&&T.pointerType!==T.MSPOINTER_TYPE_MOUSE)}function P(T){if(R(T)){var x=d(T);_.pageX=x.pageX,_.pageY=x.pageY,w=new Date().getTime(),v!==null&&clearInterval(v)}}function c(T,x,W){if(!n.contains(T))return!1;for(var D=T;D&&D!==n;){if(D.classList.contains(U.element.consuming))return!0;var L=J(D);if(W&&L.overflowY.match(/(scroll|auto)/)){var $=D.scrollHeight-D.clientHeight;if($>0&&(D.scrollTop>0&&W<0||D.scrollTop<$&&W>0))return!0}if(x&&L.overflowX.match(/(scroll|auto)/)){var k=D.scrollWidth-D.clientWidth;if(k>0&&(D.scrollLeft>0&&x<0||D.scrollLeft<k&&x>0))return!0}D=D.parentNode}return!1}function S(T){if(R(T)){var x=d(T),W={pageX:x.pageX,pageY:x.pageY},D=W.pageX-_.pageX,L=W.pageY-_.pageY;if(c(T.target,D,L))return;y(D,L),_=W;var $=new Date().getTime(),k=$-w;k>0&&(p.x=D/k,p.y=L/k,w=$),m(D,L)&&T.preventDefault()}}function I(){t.settings.swipeEasing&&(clearInterval(v),v=setInterval(function(){if(t.isInitialized){clearInterval(v);return}if(!p.x&&!p.y){clearInterval(v);return}if(Math.abs(p.x)<.01&&Math.abs(p.y)<.01){clearInterval(v);return}if(!t.element){clearInterval(v);return}y(p.x*30,p.y*30),p.x*=.8,p.y*=.8},10))}ae.supportsTouch?(t.event.bind(n,"touchstart",P),t.event.bind(n,"touchmove",S),t.event.bind(n,"touchend",I)):ae.supportsIePointer&&(window.PointerEvent?(t.event.bind(n,"pointerdown",P),t.event.bind(n,"pointermove",S),t.event.bind(n,"pointerup",I)):window.MSPointerEvent&&(t.event.bind(n,"MSPointerDown",P),t.event.bind(n,"MSPointerMove",S),t.event.bind(n,"MSPointerUp",I)))}var wr=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},Er={"click-rail":gr,"drag-thumb":pr,keyboard:mr,wheel:br,touch:yr},de=function(n,m){var y=this;if(m===void 0&&(m={}),typeof n=="string"&&(n=document.querySelector(n)),!n||!n.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=n,n.classList.add(U.main),this.settings=wr();for(var _ in m)this.settings[_]=m[_];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var w=function(){return n.classList.add(U.state.focus)},p=function(){return n.classList.remove(U.state.focus)};this.isRtl=J(n).direction==="rtl",this.isRtl===!0&&n.classList.add(U.rtl),this.isNegativeScroll=function(){var R=n.scrollLeft,P=null;return n.scrollLeft=-1,P=n.scrollLeft<0,n.scrollLeft=R,P}(),this.negativeScrollAdjustment=this.isNegativeScroll?n.scrollWidth-n.clientWidth:0,this.event=new le,this.ownerDocument=n.ownerDocument||document,this.scrollbarXRail=be(U.element.rail("x")),n.appendChild(this.scrollbarXRail),this.scrollbarX=be(U.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",w),this.event.bind(this.scrollbarX,"blur",p),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var v=J(this.scrollbarXRail);this.scrollbarXBottom=parseInt(v.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=H(v.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=H(v.borderLeftWidth)+H(v.borderRightWidth),z(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=H(v.marginLeft)+H(v.marginRight),z(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=be(U.element.rail("y")),n.appendChild(this.scrollbarYRail),this.scrollbarY=be(U.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",w),this.event.bind(this.scrollbarY,"blur",p),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var d=J(this.scrollbarYRail);this.scrollbarYRight=parseInt(d.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=H(d.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?dr(this.scrollbarY):null,this.railBorderYWidth=H(d.borderTopWidth)+H(d.borderBottomWidth),z(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=H(d.marginTop)+H(d.marginBottom),z(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:n.scrollLeft<=0?"start":n.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:n.scrollTop<=0?"start":n.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(R){return Er[R](y)}),this.lastScrollTop=Math.floor(n.scrollTop),this.lastScrollLeft=n.scrollLeft,this.event.bind(this.element,"scroll",function(R){return y.onScroll(R)}),ee(this)};de.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,z(this.scrollbarXRail,{display:"block"}),z(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=H(J(this.scrollbarXRail).marginLeft)+H(J(this.scrollbarXRail).marginRight),this.railYMarginHeight=H(J(this.scrollbarYRail).marginTop)+H(J(this.scrollbarYRail).marginBottom),z(this.scrollbarXRail,{display:"none"}),z(this.scrollbarYRail,{display:"none"}),ee(this),Ee(this,"top",0,!1,!0),Ee(this,"left",0,!1,!0),z(this.scrollbarXRail,{display:""}),z(this.scrollbarYRail,{display:""}))};de.prototype.onScroll=function(n){this.isAlive&&(ee(this),Ee(this,"top",this.element.scrollTop-this.lastScrollTop),Ee(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)};de.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),se(this.scrollbarX),se(this.scrollbarY),se(this.scrollbarXRail),se(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)};de.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(n){return!n.match(/^ps([-_].+|)$/)}).join(" ")};const Lr=G.forwardRef((t,n)=>{const{options:m,style:y,children:_,...w}=t,p=G.useRef(null),v=G.useRef(null),d=G.useRef(null),R=et(p),P=et(v);return G.useImperativeHandle(n,()=>{const c=p.current;if(!c)throw new Error("Excepted a HTMLDivElement, got a falsy!");return c},[p]),G.useEffect(()=>{const c=p.current;if(c)return d.current=new de(c,m),()=>{var S;(S=d.current)==null||S.destroy(),d.current=null}},[p,m,d]),G.useEffect(()=>{var c;(c=d.current)==null||c.update()},[R,P,d]),G.useEffect(()=>{const c=p.current;if(!c)return;const S=new AbortController,{signal:I}=S;return t.onPsScrollY&&c.addEventListener("ps-scroll-y",t.onPsScrollY,{signal:I}),t.onPsScrollX&&c.addEventListener("ps-scroll-x",t.onPsScrollX,{signal:I}),t.onPsScrollUp&&c.addEventListener("ps-scroll-up",t.onPsScrollUp,{signal:I}),t.onPsScrollDown&&c.addEventListener("ps-scroll-down",t.onPsScrollDown,{signal:I}),t.onPsScrollLeft&&c.addEventListener("ps-scroll-left",t.onPsScrollLeft,{signal:I}),t.onPsScrollRight&&c.addEventListener("ps-scroll-right",t.onPsScrollRight,{signal:I}),t.onPsYReachStart&&c.addEventListener("ps-y-reach-start",t.onPsYReachStart,{signal:I}),t.onPsYReachEnd&&c.addEventListener("ps-y-reach-end",t.onPsYReachEnd,{signal:I}),t.onPsXReachStart&&c.addEventListener("ps-x-reach-start",t.onPsXReachStart,{signal:I}),t.onPsXReachEnd&&c.addEventListener("ps-x-reach-end",t.onPsXReachEnd,{signal:I}),()=>{S.abort()}},[p,t.onPsScrollY,t.onPsScrollX,t.onPsScrollUp,t.onPsScrollDown,t.onPsScrollLeft,t.onPsScrollRight,t.onPsYReachStart,t.onPsYReachEnd,t.onPsXReachStart,t.onPsXReachEnd]),Ze.jsx("div",{ref:p,style:{position:"relative",height:"100%",...y},...w,children:Ze.jsx("div",{ref:v,children:_})})});function we(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ct={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,n){(function(m){t.exports=m()})(function(){return function m(y,_,w){function p(R,P){if(!_[R]){if(!y[R]){var c=typeof we=="function"&&we;if(!P&&c)return c(R,!0);if(v)return v(R,!0);var S=new Error("Cannot find module '"+R+"'");throw S.code="MODULE_NOT_FOUND",S}var I=_[R]={exports:{}};y[R][0].call(I.exports,function(T){var x=y[R][1][T];return p(x||T)},I,I.exports,m,y,_,w)}return _[R].exports}for(var v=typeof we=="function"&&we,d=0;d<w.length;d++)p(w[d]);return p}({1:[function(m,y,_){(function(w){var p=w.MutationObserver||w.WebKitMutationObserver,v;if(p){var d=0,R=new p(T),P=w.document.createTextNode("");R.observe(P,{characterData:!0}),v=function(){P.data=d=++d%2}}else if(!w.setImmediate&&typeof w.MessageChannel<"u"){var c=new w.MessageChannel;c.port1.onmessage=T,v=function(){c.port2.postMessage(0)}}else"document"in w&&"onreadystatechange"in w.document.createElement("script")?v=function(){var W=w.document.createElement("script");W.onreadystatechange=function(){T(),W.onreadystatechange=null,W.parentNode.removeChild(W),W=null},w.document.documentElement.appendChild(W)}:v=function(){setTimeout(T,0)};var S,I=[];function T(){S=!0;for(var W,D,L=I.length;L;){for(D=I,I=[],W=-1;++W<L;)D[W]();L=I.length}S=!1}y.exports=x;function x(W){I.push(W)===1&&!S&&v()}}).call(this,typeof me<"u"?me:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(m,y,_){var w=m(1);function p(){}var v={},d=["REJECTED"],R=["FULFILLED"],P=["PENDING"];y.exports=c;function c(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=P,this.queue=[],this.outcome=void 0,b!==p&&x(this,b)}c.prototype.catch=function(b){return this.then(null,b)},c.prototype.then=function(b,X){if(typeof b!="function"&&this.state===R||typeof X!="function"&&this.state===d)return this;var A=new this.constructor(p);if(this.state!==P){var B=this.state===R?b:X;I(A,B,this.outcome)}else this.queue.push(new S(A,b,X));return A};function S(b,X,A){this.promise=b,typeof X=="function"&&(this.onFulfilled=X,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}S.prototype.callFulfilled=function(b){v.resolve(this.promise,b)},S.prototype.otherCallFulfilled=function(b){I(this.promise,this.onFulfilled,b)},S.prototype.callRejected=function(b){v.reject(this.promise,b)},S.prototype.otherCallRejected=function(b){I(this.promise,this.onRejected,b)};function I(b,X,A){w(function(){var B;try{B=X(A)}catch(F){return v.reject(b,F)}B===b?v.reject(b,new TypeError("Cannot resolve promise with itself")):v.resolve(b,B)})}v.resolve=function(b,X){var A=W(T,X);if(A.status==="error")return v.reject(b,A.value);var B=A.value;if(B)x(b,B);else{b.state=R,b.outcome=X;for(var F=-1,K=b.queue.length;++F<K;)b.queue[F].callFulfilled(X)}return b},v.reject=function(b,X){b.state=d,b.outcome=X;for(var A=-1,B=b.queue.length;++A<B;)b.queue[A].callRejected(X);return b};function T(b){var X=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof X=="function")return function(){X.apply(b,arguments)}}function x(b,X){var A=!1;function B(V){A||(A=!0,v.reject(b,V))}function F(V){A||(A=!0,v.resolve(b,V))}function K(){X(F,B)}var j=W(K);j.status==="error"&&B(j.value)}function W(b,X){var A={};try{A.value=b(X),A.status="success"}catch(B){A.status="error",A.value=B}return A}c.resolve=D;function D(b){return b instanceof this?b:v.resolve(new this(p),b)}c.reject=L;function L(b){var X=new this(p);return v.reject(X,b)}c.all=$;function $(b){var X=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=b.length,B=!1;if(!A)return this.resolve([]);for(var F=new Array(A),K=0,j=-1,V=new this(p);++j<A;)q(b[j],j);return V;function q(ce,ve){X.resolve(ce).then(_e,function(oe){B||(B=!0,v.reject(V,oe))});function _e(oe){F[ve]=oe,++K===A&&!B&&(B=!0,v.resolve(V,F))}}}c.race=k;function k(b){var X=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=b.length,B=!1;if(!A)return this.resolve([]);for(var F=-1,K=new this(p);++F<A;)j(b[F]);return K;function j(V){X.resolve(V).then(function(q){B||(B=!0,v.resolve(K,q))},function(q){B||(B=!0,v.reject(K,q))})}}},{1:1}],3:[function(m,y,_){(function(w){typeof w.Promise!="function"&&(w.Promise=m(2))}).call(this,typeof me<"u"?me:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(m,y,_){var w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function p(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function v(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=v();function R(){try{if(!d||!d.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),o=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||o)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function P(e,o){e=e||[],o=o||{};try{return new Blob(e,o)}catch(i){if(i.name!=="TypeError")throw i;for(var r=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,a=new r,s=0;s<e.length;s+=1)a.append(e[s]);return a.getBlob(o.type)}}typeof Promise>"u"&&m(3);var c=Promise;function S(e,o){o&&e.then(function(r){o(null,r)},function(r){o(r)})}function I(e,o,r){typeof o=="function"&&e.then(o),typeof r=="function"&&e.catch(r)}function T(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function x(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var W="local-forage-detect-blob-support",D=void 0,L={},$=Object.prototype.toString,k="readonly",b="readwrite";function X(e){for(var o=e.length,r=new ArrayBuffer(o),a=new Uint8Array(r),s=0;s<o;s++)a[s]=e.charCodeAt(s);return r}function A(e){return new c(function(o){var r=e.transaction(W,b),a=P([""]);r.objectStore(W).put(a,"key"),r.onabort=function(s){s.preventDefault(),s.stopPropagation(),o(!1)},r.oncomplete=function(){var s=navigator.userAgent.match(/Chrome\/(\d+)/),i=navigator.userAgent.match(/Edge\//);o(i||!s||parseInt(s[1],10)>=43)}}).catch(function(){return!1})}function B(e){return typeof D=="boolean"?c.resolve(D):A(e).then(function(o){return D=o,D})}function F(e){var o=L[e.name],r={};r.promise=new c(function(a,s){r.resolve=a,r.reject=s}),o.deferredOperations.push(r),o.dbReady?o.dbReady=o.dbReady.then(function(){return r.promise}):o.dbReady=r.promise}function K(e){var o=L[e.name],r=o.deferredOperations.pop();if(r)return r.resolve(),r.promise}function j(e,o){var r=L[e.name],a=r.deferredOperations.pop();if(a)return a.reject(o),a.promise}function V(e,o){return new c(function(r,a){if(L[e.name]=L[e.name]||We(),e.db)if(o)F(e),e.db.close();else return r(e.db);var s=[e.name];o&&s.push(e.version);var i=d.open.apply(d,s);o&&(i.onupgradeneeded=function(l){var u=i.result;try{u.createObjectStore(e.storeName),l.oldVersion<=1&&u.createObjectStore(W)}catch(f){if(f.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+l.oldVersion+" to version "+l.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw f}}),i.onerror=function(l){l.preventDefault(),a(i.error)},i.onsuccess=function(){var l=i.result;l.onversionchange=function(u){u.target.close()},r(l),K(e)}})}function q(e){return V(e,!1)}function ce(e){return V(e,!0)}function ve(e,o){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),a=e.version<e.db.version,s=e.version>e.db.version;if(a&&(e.version!==o&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),s||r){if(r){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function _e(e){return new c(function(o,r){var a=new FileReader;a.onerror=r,a.onloadend=function(s){var i=btoa(s.target.result||"");o({__local_forage_encoded_blob:!0,data:i,type:e.type})},a.readAsBinaryString(e)})}function oe(e){var o=X(atob(e.data));return P([o],{type:e.type})}function xe(e){return e&&e.__local_forage_encoded_blob}function ut(e){var o=this,r=o._initReady().then(function(){var a=L[o._dbInfo.name];if(a&&a.dbReady)return a.dbReady});return I(r,e,e),r}function ft(e){F(e);for(var o=L[e.name],r=o.forages,a=0;a<r.length;a++){var s=r[a];s._dbInfo.db&&(s._dbInfo.db.close(),s._dbInfo.db=null)}return e.db=null,q(e).then(function(i){return e.db=i,ve(e)?ce(e):i}).then(function(i){e.db=o.db=i;for(var l=0;l<r.length;l++)r[l]._dbInfo.db=i}).catch(function(i){throw j(e,i),i})}function Z(e,o,r,a){a===void 0&&(a=1);try{var s=e.db.transaction(e.storeName,o);r(null,s)}catch(i){if(a>0&&(!e.db||i.name==="InvalidStateError"||i.name==="NotFoundError"))return c.resolve().then(function(){if(!e.db||i.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),ce(e)}).then(function(){return ft(e).then(function(){Z(e,o,r,a-1)})}).catch(r);r(i)}}function We(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ht(e){var o=this,r={db:null};if(e)for(var a in e)r[a]=e[a];var s=L[r.name];s||(s=We(),L[r.name]=s),s.forages.push(o),o._initReady||(o._initReady=o.ready,o.ready=ut);var i=[];function l(){return c.resolve()}for(var u=0;u<s.forages.length;u++){var f=s.forages[u];f!==o&&i.push(f._initReady().catch(l))}var h=s.forages.slice(0);return c.all(i).then(function(){return r.db=s.db,q(r)}).then(function(g){return r.db=g,ve(r,o._defaultConfig.version)?ce(r):g}).then(function(g){r.db=s.db=g,o._dbInfo=r;for(var E=0;E<h.length;E++){var Y=h[E];Y!==o&&(Y._dbInfo.db=r.db,Y._dbInfo.version=r.version)}})}function dt(e,o){var r=this;e=T(e);var a=new c(function(s,i){r.ready().then(function(){Z(r._dbInfo,k,function(l,u){if(l)return i(l);try{var f=u.objectStore(r._dbInfo.storeName),h=f.get(e);h.onsuccess=function(){var g=h.result;g===void 0&&(g=null),xe(g)&&(g=oe(g)),s(g)},h.onerror=function(){i(h.error)}}catch(g){i(g)}})}).catch(i)});return S(a,o),a}function vt(e,o){var r=this,a=new c(function(s,i){r.ready().then(function(){Z(r._dbInfo,k,function(l,u){if(l)return i(l);try{var f=u.objectStore(r._dbInfo.storeName),h=f.openCursor(),g=1;h.onsuccess=function(){var E=h.result;if(E){var Y=E.value;xe(Y)&&(Y=oe(Y));var N=e(Y,E.key,g++);N!==void 0?s(N):E.continue()}else s()},h.onerror=function(){i(h.error)}}catch(E){i(E)}})}).catch(i)});return S(a,o),a}function gt(e,o,r){var a=this;e=T(e);var s=new c(function(i,l){var u;a.ready().then(function(){return u=a._dbInfo,$.call(o)==="[object Blob]"?B(u.db).then(function(f){return f?o:_e(o)}):o}).then(function(f){Z(a._dbInfo,b,function(h,g){if(h)return l(h);try{var E=g.objectStore(a._dbInfo.storeName);f===null&&(f=void 0);var Y=E.put(f,e);g.oncomplete=function(){f===void 0&&(f=null),i(f)},g.onabort=g.onerror=function(){var N=Y.error?Y.error:Y.transaction.error;l(N)}}catch(N){l(N)}})}).catch(l)});return S(s,r),s}function pt(e,o){var r=this;e=T(e);var a=new c(function(s,i){r.ready().then(function(){Z(r._dbInfo,b,function(l,u){if(l)return i(l);try{var f=u.objectStore(r._dbInfo.storeName),h=f.delete(e);u.oncomplete=function(){s()},u.onerror=function(){i(h.error)},u.onabort=function(){var g=h.error?h.error:h.transaction.error;i(g)}}catch(g){i(g)}})}).catch(i)});return S(a,o),a}function mt(e){var o=this,r=new c(function(a,s){o.ready().then(function(){Z(o._dbInfo,b,function(i,l){if(i)return s(i);try{var u=l.objectStore(o._dbInfo.storeName),f=u.clear();l.oncomplete=function(){a()},l.onabort=l.onerror=function(){var h=f.error?f.error:f.transaction.error;s(h)}}catch(h){s(h)}})}).catch(s)});return S(r,e),r}function bt(e){var o=this,r=new c(function(a,s){o.ready().then(function(){Z(o._dbInfo,k,function(i,l){if(i)return s(i);try{var u=l.objectStore(o._dbInfo.storeName),f=u.count();f.onsuccess=function(){a(f.result)},f.onerror=function(){s(f.error)}}catch(h){s(h)}})}).catch(s)});return S(r,e),r}function yt(e,o){var r=this,a=new c(function(s,i){if(e<0){s(null);return}r.ready().then(function(){Z(r._dbInfo,k,function(l,u){if(l)return i(l);try{var f=u.objectStore(r._dbInfo.storeName),h=!1,g=f.openKeyCursor();g.onsuccess=function(){var E=g.result;if(!E){s(null);return}e===0||h?s(E.key):(h=!0,E.advance(e))},g.onerror=function(){i(g.error)}}catch(E){i(E)}})}).catch(i)});return S(a,o),a}function wt(e){var o=this,r=new c(function(a,s){o.ready().then(function(){Z(o._dbInfo,k,function(i,l){if(i)return s(i);try{var u=l.objectStore(o._dbInfo.storeName),f=u.openKeyCursor(),h=[];f.onsuccess=function(){var g=f.result;if(!g){a(h);return}h.push(g.key),g.continue()},f.onerror=function(){s(f.error)}}catch(g){s(g)}})}).catch(s)});return S(r,e),r}function Et(e,o){o=x.apply(this,arguments);var r=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var a=this,s;if(!e.name)s=c.reject("Invalid arguments");else{var i=e.name===r.name&&a._dbInfo.db,l=i?c.resolve(a._dbInfo.db):q(e).then(function(u){var f=L[e.name],h=f.forages;f.db=u;for(var g=0;g<h.length;g++)h[g]._dbInfo.db=u;return u});e.storeName?s=l.then(function(u){if(u.objectStoreNames.contains(e.storeName)){var f=u.version+1;F(e);var h=L[e.name],g=h.forages;u.close();for(var E=0;E<g.length;E++){var Y=g[E];Y._dbInfo.db=null,Y._dbInfo.version=f}var N=new c(function(C,O){var M=d.open(e.name,f);M.onerror=function(Q){var fe=M.result;fe.close(),O(Q)},M.onupgradeneeded=function(){var Q=M.result;Q.deleteObjectStore(e.storeName)},M.onsuccess=function(){var Q=M.result;Q.close(),C(Q)}});return N.then(function(C){h.db=C;for(var O=0;O<g.length;O++){var M=g[O];M._dbInfo.db=C,K(M._dbInfo)}}).catch(function(C){throw(j(e,C)||c.resolve()).catch(function(){}),C})}}):s=l.then(function(u){F(e);var f=L[e.name],h=f.forages;u.close();for(var g=0;g<h.length;g++){var E=h[g];E._dbInfo.db=null}var Y=new c(function(N,C){var O=d.deleteDatabase(e.name);O.onerror=function(){var M=O.result;M&&M.close(),C(O.error)},O.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},O.onsuccess=function(){var M=O.result;M&&M.close(),N(M)}});return Y.then(function(N){f.db=N;for(var C=0;C<h.length;C++){var O=h[C];K(O._dbInfo)}}).catch(function(N){throw(j(e,N)||c.resolve()).catch(function(){}),N})})}return S(s,o),s}var _t={_driver:"asyncStorage",_initStorage:ht,_support:R(),iterate:vt,getItem:dt,setItem:gt,removeItem:pt,clear:mt,length:bt,key:yt,keys:wt,dropInstance:Et};function St(){return typeof openDatabase=="function"}var te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rt="~~local_forage_type~",Xe=/^~~local_forage_type~([^~]+)~/,ge="__lfsc__:",Se=ge.length,Re="arbf",Te="blob",Ne="si08",Ce="ui08",Be="uic8",He="si16",Me="si32",Oe="ur16",Ue="ui32",Fe="fl32",$e="fl64",ke=Se+Re.length,ze=Object.prototype.toString;function Ke(e){var o=e.length*.75,r=e.length,a,s=0,i,l,u,f;e[e.length-1]==="="&&(o--,e[e.length-2]==="="&&o--);var h=new ArrayBuffer(o),g=new Uint8Array(h);for(a=0;a<r;a+=4)i=te.indexOf(e[a]),l=te.indexOf(e[a+1]),u=te.indexOf(e[a+2]),f=te.indexOf(e[a+3]),g[s++]=i<<2|l>>4,g[s++]=(l&15)<<4|u>>2,g[s++]=(u&3)<<6|f&63;return h}function Le(e){var o=new Uint8Array(e),r="",a;for(a=0;a<o.length;a+=3)r+=te[o[a]>>2],r+=te[(o[a]&3)<<4|o[a+1]>>4],r+=te[(o[a+1]&15)<<2|o[a+2]>>6],r+=te[o[a+2]&63];return o.length%3===2?r=r.substring(0,r.length-1)+"=":o.length%3===1&&(r=r.substring(0,r.length-2)+"=="),r}function Tt(e,o){var r="";if(e&&(r=ze.call(e)),e&&(r==="[object ArrayBuffer]"||e.buffer&&ze.call(e.buffer)==="[object ArrayBuffer]")){var a,s=ge;e instanceof ArrayBuffer?(a=e,s+=Re):(a=e.buffer,r==="[object Int8Array]"?s+=Ne:r==="[object Uint8Array]"?s+=Ce:r==="[object Uint8ClampedArray]"?s+=Be:r==="[object Int16Array]"?s+=He:r==="[object Uint16Array]"?s+=Oe:r==="[object Int32Array]"?s+=Me:r==="[object Uint32Array]"?s+=Ue:r==="[object Float32Array]"?s+=Fe:r==="[object Float64Array]"?s+=$e:o(new Error("Failed to get type for BinaryArray"))),o(s+Le(a))}else if(r==="[object Blob]"){var i=new FileReader;i.onload=function(){var l=Rt+e.type+"~"+Le(this.result);o(ge+Te+l)},i.readAsArrayBuffer(e)}else try{o(JSON.stringify(e))}catch(l){console.error("Couldn't convert value into a JSON string: ",e),o(null,l)}}function Lt(e){if(e.substring(0,Se)!==ge)return JSON.parse(e);var o=e.substring(ke),r=e.substring(Se,ke),a;if(r===Te&&Xe.test(o)){var s=o.match(Xe);a=s[1],o=o.substring(s[0].length)}var i=Ke(o);switch(r){case Re:return i;case Te:return P([i],{type:a});case Ne:return new Int8Array(i);case Ce:return new Uint8Array(i);case Be:return new Uint8ClampedArray(i);case He:return new Int16Array(i);case Oe:return new Uint16Array(i);case Me:return new Int32Array(i);case Ue:return new Uint32Array(i);case Fe:return new Float32Array(i);case $e:return new Float64Array(i);default:throw new Error("Unkown type: "+r)}}var Ie={serialize:Tt,deserialize:Lt,stringToBuffer:Ke,bufferToString:Le};function je(e,o,r,a){e.executeSql("CREATE TABLE IF NOT EXISTS "+o.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,a)}function It(e){var o=this,r={db:null};if(e)for(var a in e)r[a]=typeof e[a]!="string"?e[a].toString():e[a];var s=new c(function(i,l){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(u){return l(u)}r.db.transaction(function(u){je(u,r,function(){o._dbInfo=r,i()},function(f,h){l(h)})},l)});return r.serializer=Ie,s}function re(e,o,r,a,s,i){e.executeSql(r,a,s,function(l,u){u.code===u.SYNTAX_ERR?l.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[o.storeName],function(f,h){h.rows.length?i(f,u):je(f,o,function(){f.executeSql(r,a,s,i)},i)},i):i(l,u)},i)}function Yt(e,o){var r=this;e=T(e);var a=new c(function(s,i){r.ready().then(function(){var l=r._dbInfo;l.db.transaction(function(u){re(u,l,"SELECT * FROM "+l.storeName+" WHERE key = ? LIMIT 1",[e],function(f,h){var g=h.rows.length?h.rows.item(0).value:null;g&&(g=l.serializer.deserialize(g)),s(g)},function(f,h){i(h)})})}).catch(i)});return S(a,o),a}function At(e,o){var r=this,a=new c(function(s,i){r.ready().then(function(){var l=r._dbInfo;l.db.transaction(function(u){re(u,l,"SELECT * FROM "+l.storeName,[],function(f,h){for(var g=h.rows,E=g.length,Y=0;Y<E;Y++){var N=g.item(Y),C=N.value;if(C&&(C=l.serializer.deserialize(C)),C=e(C,N.key,Y+1),C!==void 0){s(C);return}}s()},function(f,h){i(h)})})}).catch(i)});return S(a,o),a}function Ve(e,o,r,a){var s=this;e=T(e);var i=new c(function(l,u){s.ready().then(function(){o===void 0&&(o=null);var f=o,h=s._dbInfo;h.serializer.serialize(o,function(g,E){E?u(E):h.db.transaction(function(Y){re(Y,h,"INSERT OR REPLACE INTO "+h.storeName+" (key, value) VALUES (?, ?)",[e,g],function(){l(f)},function(N,C){u(C)})},function(Y){if(Y.code===Y.QUOTA_ERR){if(a>0){l(Ve.apply(s,[e,f,r,a-1]));return}u(Y)}})})}).catch(u)});return S(i,r),i}function Pt(e,o,r){return Ve.apply(this,[e,o,r,1])}function Dt(e,o){var r=this;e=T(e);var a=new c(function(s,i){r.ready().then(function(){var l=r._dbInfo;l.db.transaction(function(u){re(u,l,"DELETE FROM "+l.storeName+" WHERE key = ?",[e],function(){s()},function(f,h){i(h)})})}).catch(i)});return S(a,o),a}function xt(e){var o=this,r=new c(function(a,s){o.ready().then(function(){var i=o._dbInfo;i.db.transaction(function(l){re(l,i,"DELETE FROM "+i.storeName,[],function(){a()},function(u,f){s(f)})})}).catch(s)});return S(r,e),r}function Wt(e){var o=this,r=new c(function(a,s){o.ready().then(function(){var i=o._dbInfo;i.db.transaction(function(l){re(l,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],function(u,f){var h=f.rows.item(0).c;a(h)},function(u,f){s(f)})})}).catch(s)});return S(r,e),r}function Xt(e,o){var r=this,a=new c(function(s,i){r.ready().then(function(){var l=r._dbInfo;l.db.transaction(function(u){re(u,l,"SELECT key FROM "+l.storeName+" WHERE id = ? LIMIT 1",[e+1],function(f,h){var g=h.rows.length?h.rows.item(0).key:null;s(g)},function(f,h){i(h)})})}).catch(i)});return S(a,o),a}function Nt(e){var o=this,r=new c(function(a,s){o.ready().then(function(){var i=o._dbInfo;i.db.transaction(function(l){re(l,i,"SELECT key FROM "+i.storeName,[],function(u,f){for(var h=[],g=0;g<f.rows.length;g++)h.push(f.rows.item(g).key);a(h)},function(u,f){s(f)})})}).catch(s)});return S(r,e),r}function Ct(e){return new c(function(o,r){e.transaction(function(a){a.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(s,i){for(var l=[],u=0;u<i.rows.length;u++)l.push(i.rows.item(u).name);o({db:e,storeNames:l})},function(s,i){r(i)})},function(a){r(a)})})}function Bt(e,o){o=x.apply(this,arguments);var r=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var a=this,s;return e.name?s=new c(function(i){var l;e.name===r.name?l=a._dbInfo.db:l=openDatabase(e.name,"","",0),e.storeName?i({db:l,storeNames:[e.storeName]}):i(Ct(l))}).then(function(i){return new c(function(l,u){i.db.transaction(function(f){function h(N){return new c(function(C,O){f.executeSql("DROP TABLE IF EXISTS "+N,[],function(){C()},function(M,Q){O(Q)})})}for(var g=[],E=0,Y=i.storeNames.length;E<Y;E++)g.push(h(i.storeNames[E]));c.all(g).then(function(){l()}).catch(function(N){u(N)})},function(f){u(f)})})}):s=c.reject("Invalid arguments"),S(s,o),s}var Ht={_driver:"webSQLStorage",_initStorage:It,_support:St(),iterate:At,getItem:Yt,setItem:Pt,removeItem:Dt,clear:xt,length:Wt,key:Xt,keys:Nt,dropInstance:Bt};function Mt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Qe(e,o){var r=e.name+"/";return e.storeName!==o.storeName&&(r+=e.storeName+"/"),r}function Ot(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Ut(){return!Ot()||localStorage.length>0}function Ft(e){var o=this,r={};if(e)for(var a in e)r[a]=e[a];return r.keyPrefix=Qe(e,o._defaultConfig),Ut()?(o._dbInfo=r,r.serializer=Ie,c.resolve()):c.reject()}function $t(e){var o=this,r=o.ready().then(function(){for(var a=o._dbInfo.keyPrefix,s=localStorage.length-1;s>=0;s--){var i=localStorage.key(s);i.indexOf(a)===0&&localStorage.removeItem(i)}});return S(r,e),r}function kt(e,o){var r=this;e=T(e);var a=r.ready().then(function(){var s=r._dbInfo,i=localStorage.getItem(s.keyPrefix+e);return i&&(i=s.serializer.deserialize(i)),i});return S(a,o),a}function zt(e,o){var r=this,a=r.ready().then(function(){for(var s=r._dbInfo,i=s.keyPrefix,l=i.length,u=localStorage.length,f=1,h=0;h<u;h++){var g=localStorage.key(h);if(g.indexOf(i)===0){var E=localStorage.getItem(g);if(E&&(E=s.serializer.deserialize(E)),E=e(E,g.substring(l),f++),E!==void 0)return E}}});return S(a,o),a}function Kt(e,o){var r=this,a=r.ready().then(function(){var s=r._dbInfo,i;try{i=localStorage.key(e)}catch{i=null}return i&&(i=i.substring(s.keyPrefix.length)),i});return S(a,o),a}function jt(e){var o=this,r=o.ready().then(function(){for(var a=o._dbInfo,s=localStorage.length,i=[],l=0;l<s;l++){var u=localStorage.key(l);u.indexOf(a.keyPrefix)===0&&i.push(u.substring(a.keyPrefix.length))}return i});return S(r,e),r}function Vt(e){var o=this,r=o.keys().then(function(a){return a.length});return S(r,e),r}function Qt(e,o){var r=this;e=T(e);var a=r.ready().then(function(){var s=r._dbInfo;localStorage.removeItem(s.keyPrefix+e)});return S(a,o),a}function Gt(e,o,r){var a=this;e=T(e);var s=a.ready().then(function(){o===void 0&&(o=null);var i=o;return new c(function(l,u){var f=a._dbInfo;f.serializer.serialize(o,function(h,g){if(g)u(g);else try{localStorage.setItem(f.keyPrefix+e,h),l(i)}catch(E){(E.name==="QuotaExceededError"||E.name==="NS_ERROR_DOM_QUOTA_REACHED")&&u(E),u(E)}})})});return S(s,r),s}function Jt(e,o){if(o=x.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var r=this.config();e.name=e.name||r.name,e.storeName=e.storeName||r.storeName}var a=this,s;return e.name?s=new c(function(i){e.storeName?i(Qe(e,a._defaultConfig)):i(e.name+"/")}).then(function(i){for(var l=localStorage.length-1;l>=0;l--){var u=localStorage.key(l);u.indexOf(i)===0&&localStorage.removeItem(u)}}):s=c.reject("Invalid arguments"),S(s,o),s}var qt={_driver:"localStorageWrapper",_initStorage:Ft,_support:Mt(),iterate:zt,getItem:kt,setItem:Gt,removeItem:Qt,clear:$t,length:Vt,key:Kt,keys:jt,dropInstance:Jt},Zt=function(o,r){return o===r||typeof o=="number"&&typeof r=="number"&&isNaN(o)&&isNaN(r)},er=function(o,r){for(var a=o.length,s=0;s<a;){if(Zt(o[s],r))return!0;s++}return!1},Ge=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},ue={},Je={},ie={INDEXEDDB:_t,WEBSQL:Ht,LOCALSTORAGE:qt},tr=[ie.INDEXEDDB._driver,ie.WEBSQL._driver,ie.LOCALSTORAGE._driver],pe=["dropInstance"],Ye=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(pe),rr={description:"",driver:tr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function nr(e,o){e[o]=function(){var r=arguments;return e.ready().then(function(){return e[o].apply(e,r)})}}function Ae(){for(var e=1;e<arguments.length;e++){var o=arguments[e];if(o)for(var r in o)o.hasOwnProperty(r)&&(Ge(o[r])?arguments[0][r]=o[r].slice():arguments[0][r]=o[r])}return arguments[0]}var or=function(){function e(o){p(this,e);for(var r in ie)if(ie.hasOwnProperty(r)){var a=ie[r],s=a._driver;this[r]=s,ue[s]||this.defineDriver(a)}this._defaultConfig=Ae({},rr),this._config=Ae({},this._defaultConfig,o),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(r){if((typeof r>"u"?"undefined":w(r))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var a in r){if(a==="storeName"&&(r[a]=r[a].replace(/\W/g,"_")),a==="version"&&typeof r[a]!="number")return new Error("Database version must be a number.");this._config[a]=r[a]}return"driver"in r&&r.driver?this.setDriver(this._config.driver):!0}else return typeof r=="string"?this._config[r]:this._config},e.prototype.defineDriver=function(r,a,s){var i=new c(function(l,u){try{var f=r._driver,h=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!r._driver){u(h);return}for(var g=Ye.concat("_initStorage"),E=0,Y=g.length;E<Y;E++){var N=g[E],C=!er(pe,N);if((C||r[N])&&typeof r[N]!="function"){u(h);return}}var O=function(){for(var fe=function(sr){return function(){var lr=new Error("Method "+sr+" is not implemented by the current driver"),qe=c.reject(lr);return S(qe,arguments[arguments.length-1]),qe}},Pe=0,ar=pe.length;Pe<ar;Pe++){var De=pe[Pe];r[De]||(r[De]=fe(De))}};O();var M=function(fe){ue[f]&&console.info("Redefining LocalForage driver: "+f),ue[f]=r,Je[f]=fe,l()};"_support"in r?r._support&&typeof r._support=="function"?r._support().then(M,u):M(!!r._support):M(!0)}catch(Q){u(Q)}});return I(i,a,s),i},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(r,a,s){var i=ue[r]?c.resolve(ue[r]):c.reject(new Error("Driver not found."));return I(i,a,s),i},e.prototype.getSerializer=function(r){var a=c.resolve(Ie);return I(a,r),a},e.prototype.ready=function(r){var a=this,s=a._driverSet.then(function(){return a._ready===null&&(a._ready=a._initDriver()),a._ready});return I(s,r,r),s},e.prototype.setDriver=function(r,a,s){var i=this;Ge(r)||(r=[r]);var l=this._getSupportedDrivers(r);function u(){i._config.driver=i.driver()}function f(E){return i._extend(E),u(),i._ready=i._initStorage(i._config),i._ready}function h(E){return function(){var Y=0;function N(){for(;Y<E.length;){var C=E[Y];return Y++,i._dbInfo=null,i._ready=null,i.getDriver(C).then(f).catch(N)}u();var O=new Error("No available storage method found.");return i._driverSet=c.reject(O),i._driverSet}return N()}}var g=this._driverSet!==null?this._driverSet.catch(function(){return c.resolve()}):c.resolve();return this._driverSet=g.then(function(){var E=l[0];return i._dbInfo=null,i._ready=null,i.getDriver(E).then(function(Y){i._driver=Y._driver,u(),i._wrapLibraryMethodsWithReady(),i._initDriver=h(l)})}).catch(function(){u();var E=new Error("No available storage method found.");return i._driverSet=c.reject(E),i._driverSet}),I(this._driverSet,a,s),this._driverSet},e.prototype.supports=function(r){return!!Je[r]},e.prototype._extend=function(r){Ae(this,r)},e.prototype._getSupportedDrivers=function(r){for(var a=[],s=0,i=r.length;s<i;s++){var l=r[s];this.supports(l)&&a.push(l)}return a},e.prototype._wrapLibraryMethodsWithReady=function(){for(var r=0,a=Ye.length;r<a;r++)nr(this,Ye[r])},e.prototype.createInstance=function(r){return new e(r)},e}(),ir=new or;y.exports=ir},{3:3}]},{},[4])(4)})})(ct);var _r=ct.exports;const Ir=cr(_r);export{Lr as S,Ir as l};
