var O=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)};var i=(r,t,e)=>(O(r,t,"read from private field"),e?e.call(r):t.get(r)),p=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},d=(r,t,e,o)=>(O(r,t,"write to private field"),o?o.call(r,e):t.set(r,e),e);var b=(r,t,e)=>(O(r,t,"access private method"),e);import{S as $,s as q,f as B,h as R,i as T,r as y,a as G,n as I,j as s,L}from"./index-b39aecf9.js";import{u as H,F as U}from"./index.esm-739aea94.js";import{o as W,c as A,a as F,b as Q}from"./index.esm-2094b93f.js";import"./Editor-e684096c.js";import{I as V}from"./item-text-d4433814.js";import{I as _,a as z,F as N,T as J,G as K}from"./item-passwd-226fcea1.js";import"./scrollbar-7f502a5f.js";import"./copy-btn-3bd50814.js";import{u as X}from"./use-login-41f91d93.js";import{s as Y}from"./utils-73056672.js";import{u as Z}from"./useTheme-9a16934f.js";import{u as tt}from"./useMediaQuery-5ee6cf43.js";import{B as f}from"./Box-202fc624.js";import{T as w}from"./Typography-2553a48f.js";import{F as et}from"./FormControlLabel-60462167.js";import{L as k}from"./Link-bd667f72.js";import{L as st}from"./LoadingButton-f6d15991.js";import{D as rt}from"./Divider-70d831be.js";import{I as C}from"./IconButton-39bb2c61.js";import{G as it}from"./GitHub-0a60afc1.js";import{s as ot}from"./ButtonBase-2b5ec54d.js";import"./index-23ab67cf.js";import"./TextField-e744419b.js";import"./OutlinedInput-39b27570.js";import"./Modal-02b8de31.js";import"./List-4a211db0.js";import"./ListContext-0bc544ba.js";import"./Transition-e5ed2bb3.js";import"./ownerDocument-613eb639.js";import"./ownerWindow-698471fc.js";import"./Paper-0e29b243.js";import"./Grow-b78751be.js";import"./useFormControl-e9e5e727.js";import"./TextareaAutosize-7be662b3.js";import"./isMuiElement-eb9ac0b2.js";import"./useId-6234f4c5.js";import"./Select-dd7723d7.js";import"./useControlled-7acd472f.js";import"./createSvgIcon-96b2ee04.js";import"./InputAdornment-9b4b064c.js";import"./Tooltip-5d9d8d30.js";import"./Popper-38b43dc8.js";import"./extendSxProp-7335cef3.js";import"./SwitchBase-dc79ec1b.js";import"./styled-93237b19.js";import"./Button-39feaa9e.js";import"./dividerClasses-dc70f6dc.js";var c,n,a,u,j,S,g,M,P,nt=(P=class extends ${constructor(t,e){super();p(this,j);p(this,g);p(this,c,void 0);p(this,n,void 0);p(this,a,void 0);p(this,u,void 0);d(this,n,void 0),d(this,c,t),this.setOptions(e),this.bindMethods(),b(this,j,S).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var o;const e=this.options;this.options=i(this,c).defaultMutationOptions(t),q(e,this.options)||i(this,c).getMutationCache().notify({type:"observerOptionsUpdated",mutation:i(this,a),observer:this}),(o=i(this,a))==null||o.setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=i(this,a))==null||t.removeObserver(this)}onMutationUpdate(t){b(this,j,S).call(this),b(this,g,M).call(this,t)}getCurrentResult(){return i(this,n)}reset(){d(this,a,void 0),b(this,j,S).call(this),b(this,g,M).call(this)}mutate(t,e){var o;return d(this,u,e),(o=i(this,a))==null||o.removeObserver(this),d(this,a,i(this,c).getMutationCache().build(i(this,c),this.options)),i(this,a).addObserver(this),i(this,a).execute(t)}},c=new WeakMap,n=new WeakMap,a=new WeakMap,u=new WeakMap,j=new WeakSet,S=function(){var e;const t=((e=i(this,a))==null?void 0:e.state)??B();d(this,n,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},g=new WeakSet,M=function(t){R.batch(()=>{var e,o,m,x,h,l,v,E;i(this,u)&&this.hasListeners()&&((t==null?void 0:t.type)==="success"?((o=(e=i(this,u)).onSuccess)==null||o.call(e,t.data,i(this,n).variables,i(this,n).context),(x=(m=i(this,u)).onSettled)==null||x.call(m,t.data,null,i(this,n).variables,i(this,n).context)):(t==null?void 0:t.type)==="error"&&((l=(h=i(this,u)).onError)==null||l.call(h,t.error,i(this,n).variables,i(this,n).context),(E=(v=i(this,u)).onSettled)==null||E.call(v,void 0,t.error,i(this,n).variables,i(this,n).context))),this.listeners.forEach(D=>{D(i(this,n))})})},P);function at(r,t){const e=T(t),[o]=y.useState(()=>new nt(e,r));y.useEffect(()=>{o.setOptions(r)},[o,r]);const m=y.useSyncExternalStore(y.useCallback(h=>o.subscribe(R.batchCalls(h)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),x=y.useCallback((h,l)=>{o.mutate(h,l).catch(mt)},[o]);if(m.error&&Y(o.options.throwOnError,[m.error]))throw m.error;return{...m,mutate:x,mutateAsync:m.mutate}}function mt(){}function lt(r){return G({method:"POST",url:"/usr",...r})}function ut(){const r=T();return at({mutationFn(t){return lt(t)},onSuccess(t){r.setQueryData(["usr_get"],e=>e?{...e,...t}:t),I.success("Welcome back!")},onError(t){I.error(t.message)}})}function ne(){const r=H({defaultValues:{email:"admin@demo.com",passwd:"test123456",isRemember:!1},resolver:W(A().shape({email:F().email().max(50).required(),passwd:F().min(8).max(16).required(),isRemember:Q()}))}),{signIn:t}=X(),{mutateAsync:e,isPending:o}=ut(),m=r.handleSubmit(async l=>{const v=await e({data:l});t({...v,role:"admin",loginAt:0})}),x=Z(),h=tt(x.breakpoints.down("md"));return s.jsxs(f,{display:"flex",height:"100%",children:[s.jsx(f,{flex:1,overflow:"hidden",children:h&&s.jsx("h1",{children:"Hello small"})}),s.jsxs(f,{display:"flex",flexDirection:"column",justifyContent:"center",gap:4,width:"100%",maxWidth:{md:450},p:[6,12],boxShadow:l=>l.shadows[2],children:[s.jsxs(f,{children:[s.jsx(w,{variant:"h4",children:"Wellcome to here!"}),s.jsx(w,{variant:"body2",sx:{overflow:"hidden",maxHeight(l){return`calc(${l.typography.body1.lineHeight}em * 3)`}},children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Porro omnis sed fugiat placeat alias illo praesentium."})]}),s.jsx(ht,{onSubmit:m,noValidate:!0,autoComplete:"off",sx:{display:"flex",flexDirection:"column",gap:4},children:s.jsxs(U,{...r,children:[s.jsx(V,{name:"email",label:"Email"}),s.jsx(_,{name:"passwd",label:"Password"}),s.jsxs(f,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsx(et,{control:s.jsx(z,{name:"remember"}),label:s.jsx(w,{variant:"body2",children:"Remember Me"})}),s.jsx(k,{variant:"body2",component:L,to:"/forgot-passwd",children:"Forgot Password?"})]}),s.jsx(st,{loading:o,type:"submit",variant:"contained",fullWidth:!0,size:"large",children:"sign in"})]})}),s.jsxs(f,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsx(w,{variant:"body2",children:"New on our platform?"}),s.jsx(k,{variant:"body2",component:L,to:"/register",children:"Create an account"})]}),s.jsx(rt,{children:"Or"}),s.jsxs(f,{display:"flex",justifyContent:"center",gap:4,children:[s.jsx(C,{children:s.jsx(N,{})}),s.jsx(C,{children:s.jsx(J,{})}),s.jsx(C,{children:s.jsx(it,{})}),s.jsx(C,{children:s.jsx(K,{})})]})]})]})}const ht=ot("form")({});export{ne as Component};
