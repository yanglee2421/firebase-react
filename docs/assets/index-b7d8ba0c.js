var O=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)};var i=(r,t,e)=>(O(r,t,"read from private field"),e?e.call(r):t.get(r)),d=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},p=(r,t,e,o)=>(O(r,t,"write to private field"),o?o.call(r,e):t.set(r,e),e);var b=(r,t,e)=>(O(r,t,"access private method"),e);import{S as $,s as q,f as B,h as R,i as T,r as y,a as G,n as I,j as s,L as F}from"./index-78f9b981.js";import{u as H,F as U}from"./index.esm-9e194fb7.js";import{o as W,c as A,a as L,b as Q}from"./index.esm-91626f61.js";import"./Editor-a8d845b4.js";import{I as V}from"./item-text-50633955.js";import{I as _,a as z,L as k,b as N,F as J,T as K,G as X}from"./item-passwd-e9f437d9.js";import"./scrollbar-74d48671.js";import"./copy-btn-83eba975.js";import{u as Y}from"./use-login-7d0a7bc2.js";import{s as Z}from"./utils-73056672.js";import{u as tt}from"./useTheme-7b778476.js";import{u as et}from"./useMediaQuery-47356b04.js";import{B as f}from"./Box-841dbcb8.js";import{T as w}from"./Typography-4fba8627.js";import{F as st}from"./FormControlLabel-48c896c9.js";import{D as rt}from"./Divider-99008ce1.js";import{I as C}from"./IconButton-78a0b1fb.js";import{G as it}from"./GitHub-a56d1d47.js";import{s as ot}from"./ButtonBase-7406c872.js";import"./index-d65eb222.js";import"./TextField-c6ffe1ee.js";import"./OutlinedInput-51ad230f.js";import"./Modal-fd28751b.js";import"./List-5d007fb7.js";import"./ListContext-616cd31c.js";import"./Transition-3c82e67d.js";import"./ownerDocument-613eb639.js";import"./ownerWindow-698471fc.js";import"./Paper-175f0fbe.js";import"./Grow-d260ace2.js";import"./useFormControl-05b23eb0.js";import"./TextareaAutosize-5253c24a.js";import"./isMuiElement-c27e3b66.js";import"./useId-9315c336.js";import"./Select-3a742732.js";import"./useControlled-365a5c84.js";import"./createSvgIcon-4570f62e.js";import"./Button-6f2388ba.js";import"./InputAdornment-125706f5.js";import"./Popper-1777e033.js";import"./extendSxProp-7baa37ce.js";import"./SwitchBase-ca334953.js";import"./styled-484fbf9a.js";import"./dividerClasses-1196eadd.js";var c,n,a,u,j,S,g,M,P,nt=(P=class extends ${constructor(t,e){super();d(this,j);d(this,g);d(this,c,void 0);d(this,n,void 0);d(this,a,void 0);d(this,u,void 0);p(this,n,void 0),p(this,c,t),this.setOptions(e),this.bindMethods(),b(this,j,S).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var o;const e=this.options;this.options=i(this,c).defaultMutationOptions(t),q(e,this.options)||i(this,c).getMutationCache().notify({type:"observerOptionsUpdated",mutation:i(this,a),observer:this}),(o=i(this,a))==null||o.setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=i(this,a))==null||t.removeObserver(this)}onMutationUpdate(t){b(this,j,S).call(this),b(this,g,M).call(this,t)}getCurrentResult(){return i(this,n)}reset(){p(this,a,void 0),b(this,j,S).call(this),b(this,g,M).call(this)}mutate(t,e){var o;return p(this,u,e),(o=i(this,a))==null||o.removeObserver(this),p(this,a,i(this,c).getMutationCache().build(i(this,c),this.options)),i(this,a).addObserver(this),i(this,a).execute(t)}},c=new WeakMap,n=new WeakMap,a=new WeakMap,u=new WeakMap,j=new WeakSet,S=function(){var e;const t=((e=i(this,a))==null?void 0:e.state)??B();p(this,n,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},g=new WeakSet,M=function(t){R.batch(()=>{var e,o,m,x,h,l,v,E;i(this,u)&&this.hasListeners()&&((t==null?void 0:t.type)==="success"?((o=(e=i(this,u)).onSuccess)==null||o.call(e,t.data,i(this,n).variables,i(this,n).context),(x=(m=i(this,u)).onSettled)==null||x.call(m,t.data,null,i(this,n).variables,i(this,n).context)):(t==null?void 0:t.type)==="error"&&((l=(h=i(this,u)).onError)==null||l.call(h,t.error,i(this,n).variables,i(this,n).context),(E=(v=i(this,u)).onSettled)==null||E.call(v,void 0,t.error,i(this,n).variables,i(this,n).context))),this.listeners.forEach(D=>{D(i(this,n))})})},P);function at(r,t){const e=T(t),[o]=y.useState(()=>new nt(e,r));y.useEffect(()=>{o.setOptions(r)},[o,r]);const m=y.useSyncExternalStore(y.useCallback(h=>o.subscribe(R.batchCalls(h)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),x=y.useCallback((h,l)=>{o.mutate(h,l).catch(mt)},[o]);if(m.error&&Z(o.options.throwOnError,[m.error]))throw m.error;return{...m,mutate:x,mutateAsync:m.mutate}}function mt(){}function lt(r){return G({method:"POST",url:"/usr",...r})}function ut(){const r=T();return at({mutationFn(t){return lt(t)},onSuccess(t){r.setQueryData(["usr_get"],e=>e?{...e,...t}:t),I.success("Welcome back!")},onError(t){I.error(t.message)}})}function re(){const r=H({defaultValues:{email:"admin@demo.com",passwd:"test123456",isRemember:!1},resolver:W(A().shape({email:L().email().max(50).required(),passwd:L().min(8).max(16).required(),isRemember:Q()}))}),{signIn:t}=Y(),{mutateAsync:e,isPending:o}=ut(),m=r.handleSubmit(async l=>{const v=await e({data:l});t({...v,role:"admin",loginAt:0})}),x=tt(),h=et(x.breakpoints.down("md"));return s.jsxs(f,{display:"flex",height:"100%",children:[s.jsx(f,{flex:1,overflow:"hidden",children:h&&s.jsx("h1",{children:"Hello small"})}),s.jsxs(f,{display:"flex",flexDirection:"column",justifyContent:"center",gap:4,width:"100%",maxWidth:{md:450},p:[6,12],boxShadow:l=>l.shadows[2],children:[s.jsxs(f,{children:[s.jsx(w,{variant:"h4",children:"Wellcome to here!"}),s.jsx(w,{variant:"body2",sx:{overflow:"hidden",maxHeight(l){return`calc(${l.typography.body1.lineHeight}em * 3)`}},children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Porro omnis sed fugiat placeat alias illo praesentium."})]}),s.jsx(ht,{onSubmit:m,noValidate:!0,autoComplete:"off",sx:{display:"flex",flexDirection:"column",gap:4},children:s.jsxs(U,{...r,children:[s.jsx(V,{name:"email",label:"Email"}),s.jsx(_,{name:"passwd",label:"Password"}),s.jsxs(f,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsx(st,{control:s.jsx(z,{name:"remember"}),label:s.jsx(w,{variant:"body2",children:"Remember Me"})}),s.jsx(k,{variant:"body2",component:F,to:"/forgot-passwd",children:"Forgot Password?"})]}),s.jsx(N,{loading:o,type:"submit",variant:"contained",fullWidth:!0,size:"large",children:"sign in"})]})}),s.jsxs(f,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsx(w,{variant:"body2",children:"New on our platform?"}),s.jsx(k,{variant:"body2",component:F,to:"/register",children:"Create an account"})]}),s.jsx(rt,{children:"Or"}),s.jsxs(f,{display:"flex",justifyContent:"center",gap:4,children:[s.jsx(C,{children:s.jsx(J,{})}),s.jsx(C,{children:s.jsx(K,{})}),s.jsx(C,{children:s.jsx(it,{})}),s.jsx(C,{children:s.jsx(X,{})})]})]})]})}const ht=ot("form")({});export{re as Component};
