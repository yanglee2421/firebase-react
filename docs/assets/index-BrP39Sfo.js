import{R as v,f as A,g as h,j as e,s as d}from"./index-y-D59f-l.js";import"./Editor-ViiN9fnC.js";import{S as M,l as R}from"./localforage-Z2xZRT0t.js";import{u as T,G as F}from"./global-bg-xL7sOCAD.js";import{u as L,S as Q,C as z,a as u,D as E}from"./useBgImgMutation-b7o4tD-P.js";import"./copy-btn-uBI7Ylk1.js";import{u as G}from"./useMediaQuery-cYOHLWgY.js";import{I as x}from"./IconButton-7a_i6BvZ.js";import{M as O}from"./Menu-kYT3fcxp.js";import{B as o}from"./Box-gGW_-ZGs.js";import{C as H}from"./Close-LY8tNdc6.js";import{D as P}from"./Divider-CKLj_0cS.js";import{S as U}from"./Stack-8198dFrY.js";import{C as g}from"./Card-gq2DRxhC.js";import{C as f}from"./CardHeader-5psyu3_J.js";import{T as W}from"./Typography-lsV97rWU.js";import{C as s}from"./CardContent--MAUgh3u.js";import{C as $}from"./CardActions-UrI5zyBl.js";import{B as j}from"./Button-FEano4Rr.js";import{s as i}from"./TransitionGroupContext-y5PnIpQc.js";import"./fabric-Y98Y_bQ5.js";import"./index-9djbFzGf.js";import"./useQuery-T8jY0AKm.js";import"./useBaseQuery-htmWwMxe.js";import"./utils-1RRThafF.js";import"./Backdrop-EpG-_wG6.js";import"./useTheme-vEkUmAeO.js";import"./utils-7yFeARfI.js";import"./Transition-e2d74KiK.js";import"./CircularProgress-0PcbA24j.js";import"./ButtonBase-I5K-Fali.js";import"./isHostComponent-jcd54X0C.js";import"./useControlled-MDGVTukE.js";import"./ownerDocument-bIJBxlvi.js";import"./Portal-pE_ByGME.js";import"./Drawer-53KC3Ljp.js";import"./Modal-WhXy9qwD.js";import"./ownerWindow-LT9-6hbI.js";import"./Paper-cWqnbJ1A.js";import"./createSvgIcon-zvISoHuV.js";import"./useMutation-w4kLXimf.js";import"./Tooltip-8p0NfUSG.js";import"./Popper-2WSwKma0.js";import"./Grow-XbrmT_k2.js";import"./extendSxProp-keH6JwdC.js";import"./dividerClasses-MGlbd6Gb.js";import"./styled-fGWyf-cz.js";function q(){const[b,a]=v.useState(!1),y=G(t=>t.breakpoints.down("sm")),n=A(),C=h(t=>t.theme.bgAlpha),w=h(t=>t.theme.bgBlur),l=T(),S=L(),m=()=>{a(!1)},p=()=>{a(!0)},B=t=>{var c;const r=(c=t.target.files)==null?void 0:c[0];r&&S.mutate(r)},D=(t,r)=>{typeof r=="number"&&n(d.actions.bgAlpha(r))},I=(t,r)=>{typeof r=="number"&&n(d.actions.bgBlur(r))},k=async()=>{const t=await R.getItem("bg-img");t&&navigator.share({url:window.location.href,title:"Share feature",text:t.name,files:[t]})};return e.jsxs(e.Fragment,{children:[e.jsx(x,{onClick:p,color:"inherit",sx:{position:"absolute",top:"1rem",right:"1rem"},children:e.jsx(O,{})}),e.jsx(Q,{open:b,onOpen:p,onClose:m,anchor:y?"top":"right",hideBackdrop:!0,sx:{"& > .MuiPaper-root":{height:"100%"}},children:e.jsxs(o,{display:"flex",flexDirection:"column",width:{sm:400},height:"100%",children:[e.jsx(o,{p:2,children:e.jsx(x,{onClick:m,children:e.jsx(H,{})})}),e.jsx(P,{}),e.jsx(o,{flex:1,overflow:"hidden",children:e.jsx(M,{children:e.jsxs(o,{p:4,bgcolor:t=>t.palette.background.default,children:[e.jsxs(U,{spacing:6,children:[e.jsxs(g,{children:[e.jsx(f,{title:e.jsx(W,{variant:"h6",children:"Wallpaper"})}),e.jsx(s,{children:e.jsxs(z,{component:"label",title:"click to change image",sx:{color:"common.white"},children:[e.jsx(J,{src:l.data,alt:"",sx:{width:"100%",aspectRatio:"16/9",verticalAlign:"bottom"}}),e.jsx("input",{value:"",onChange:B,type:"file",hidden:!0})]})}),e.jsxs(s,{children:[e.jsx(u,{value:C,onChange:D,valueLabelDisplay:"auto"}),e.jsx(u,{value:w,onChange:I,valueLabelDisplay:"auto"})]}),e.jsx($,{children:e.jsx(j,{size:"small",LinkComponent:"a",href:l.data||"",download:`${Date.now()}.png`,title:"download image",startIcon:e.jsx(E,{fontSize:"small"}),sx:{textTransform:"lowercase"},children:"download"})})]}),e.jsxs(g,{children:[e.jsx(f,{title:"Share"}),e.jsx(s,{children:e.jsx(j,{onClick:k,children:"share"})})]})]}),e.jsx(o,{height:1e3})]})})})]})})]})}const J=i("img")({});function We(){return e.jsxs(e.Fragment,{children:[e.jsx(F,{}),e.jsxs(o,{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:"common.white",children:[e.jsx(q,{}),e.jsxs(N,{children:[e.jsxs(V,{children:[e.jsx("li",{children:e.jsxs("label",{children:["网页",e.jsx("input",{type:"radio",name:"subject"})]})}),e.jsx("li",{children:e.jsxs("label",{children:["图片",e.jsx("input",{type:"radio",name:"subject"})]})})]}),e.jsx(K,{placeholder:"Search..."})]})]})]})}const K=i("input")({width:300,height:46,opacity:.85,outline:"none","&:active,&:focus":{opacity:1},textIndent:".5rem"}),N=i("form")({}),V=i("ul")({display:"flex",gap:"1rem",listStyle:"none",'& input[type="radio"]':{display:"none"},"& label":{cursor:"pointer",userSelect:"none","&:has(input:checked)":{color:"red"}}});export{We as Component};
