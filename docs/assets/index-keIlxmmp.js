var S=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)};var i=(r,t,e)=>(S(r,t,"read from private field"),e?e.call(r):t.get(r)),c=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},p=(r,t,e,o)=>(S(r,t,"write to private field"),o?o.call(r,e):t.set(r,e),e);var b=(r,t,e)=>(S(r,t,"access private method"),e);import{S as $,s as q,f as B,h as P,i as T,r as g,a as G,n as R,R as H,j as s,L as F}from"./index-_jySrniT.js";import{u as U,F as W}from"./index.esm-E6vvBXDR.js";import{o as Q,c as A,a as I,b as V}from"./index.esm-ZZr-bL9R.js";import"./Editor-4LcTYiHH.js";import{I as _}from"./item-text-TXGla-VQ.js";import{I as z,a as N,F as J,T as K,G as X}from"./item-passwd-h1avIkJK.js";import"./copy-btn-M7yW5mWO.js";import{u as Y}from"./use-login-SpTrrnkv.js";import{s as Z}from"./utils-1RRThafF.js";import{u as tt}from"./useTheme-p2_EMMh8.js";import{u as et}from"./useMediaQuery-FeJdcTrW.js";import{B as d}from"./Box-G8vg00il.js";import{T as v}from"./Typography-FoY2yxk-.js";import{F as st}from"./InputAdornment-KlZUsttL.js";import{L}from"./Link-1or9HyL4.js";import{L as rt}from"./LoadingButton-xFyUUZ6r.js";import{D as it}from"./Divider-vFlUH8Ur.js";import{I as w}from"./IconButton-FRq8ca-G.js";import{G as ot}from"./GitHub-VlJ6MdgY.js";import{s as nt}from"./TransitionGroupContext-HghCD5I8.js";import"./index-rT6xgXRt.js";import"./TextField-_GVqZnaf.js";import"./OutlinedInput-5xZbDjjO.js";import"./Modal-UuCheryZ.js";import"./Portal-hPTGjRaA.js";import"./isHostComponent-jcd54X0C.js";import"./Transition-u51VmtdE.js";import"./ownerDocument-bIJBxlvi.js";import"./ownerWindow-LT9-6hbI.js";import"./Paper-dfl_ZQKL.js";import"./Grow-pcCCSsEF.js";import"./List-h_M_UCSF.js";import"./ListContext-2ZkiLFuf.js";import"./useFormControl-pbIodNNG.js";import"./TextareaAutosize-YPLzd9sj.js";import"./isMuiElement-RrCUd_Wz.js";import"./Select-VLU14T4X.js";import"./useControlled-uW1Z4y0U.js";import"./createSvgIcon-y6wbUhY4.js";import"./Checkbox-fiMK2dj0.js";import"./SwitchBase-qGfj4bIs.js";import"./ButtonBase-OH_R5Rus.js";import"./Tooltip-vDkpfU1y.js";import"./Popper-18XTfRLC.js";import"./extendSxProp-bBpA41mm.js";import"./Stack-ar-10IXG.js";import"./styled-VM3iepFs.js";import"./Button-8XFM1Ij-.js";import"./CircularProgress-AMrI-NK-.js";import"./dividerClasses-YLCk7QoM.js";var h,n,m,u,j,C,y,O,k,at=(k=class extends ${constructor(t,e){super();c(this,j);c(this,y);c(this,h,void 0);c(this,n,void 0);c(this,m,void 0);c(this,u,void 0);p(this,n,void 0),p(this,h,t),this.setOptions(e),this.bindMethods(),b(this,j,C).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var o;const e=this.options;this.options=i(this,h).defaultMutationOptions(t),q(e,this.options)||i(this,h).getMutationCache().notify({type:"observerOptionsUpdated",mutation:i(this,m),observer:this}),(o=i(this,m))==null||o.setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=i(this,m))==null||t.removeObserver(this)}onMutationUpdate(t){b(this,j,C).call(this),b(this,y,O).call(this,t)}getCurrentResult(){return i(this,n)}reset(){p(this,m,void 0),b(this,j,C).call(this),b(this,y,O).call(this)}mutate(t,e){var o;return p(this,u,e),(o=i(this,m))==null||o.removeObserver(this),p(this,m,i(this,h).getMutationCache().build(i(this,h),this.options)),i(this,m).addObserver(this),i(this,m).execute(t)}},h=new WeakMap,n=new WeakMap,m=new WeakMap,u=new WeakMap,j=new WeakSet,C=function(){var e;const t=((e=i(this,m))==null?void 0:e.state)??B();p(this,n,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},y=new WeakSet,O=function(t){P.batch(()=>{var e,o,l,f,a,x,M,E;i(this,u)&&this.hasListeners()&&((t==null?void 0:t.type)==="success"?((o=(e=i(this,u)).onSuccess)==null||o.call(e,t.data,i(this,n).variables,i(this,n).context),(f=(l=i(this,u)).onSettled)==null||f.call(l,t.data,null,i(this,n).variables,i(this,n).context)):(t==null?void 0:t.type)==="error"&&((x=(a=i(this,u)).onError)==null||x.call(a,t.error,i(this,n).variables,i(this,n).context),(E=(M=i(this,u)).onSettled)==null||E.call(M,void 0,t.error,i(this,n).variables,i(this,n).context))),this.listeners.forEach(D=>{D(i(this,n))})})},k);function mt(r,t){const e=T(t),[o]=g.useState(()=>new at(e,r));g.useEffect(()=>{o.setOptions(r)},[o,r]);const l=g.useSyncExternalStore(g.useCallback(a=>o.subscribe(P.batchCalls(a)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),f=g.useCallback((a,x)=>{o.mutate(a,x).catch(lt)},[o]);if(l.error&&Z(o.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:f,mutateAsync:l.mutate}}function lt(){}function ut(r){return G({method:"POST",url:"/usr",...r})}function ht(){const r=T();return mt({mutationFn(t){return ut(t)},onSuccess(t){r.setQueryData(["usr_get"],e=>e?{...e,...t}:t),R.success("Welcome back!")},onError(t){R.error(t.message)}})}function ue(){const r=U({defaultValues:{email:"admin@demo.com",passwd:"test123456",isRemember:!1},resolver:Q(A().shape({email:I().email().max(50).required(),passwd:I().min(8).max(16).required(),isRemember:V()}))}),{signIn:t}=Y(),e=ht(),o=tt(),l=et(o.breakpoints.down("md")),f=r.handleSubmit(a=>{e.mutate({data:a},{onSuccess(x){H.startTransition(()=>{t({...x,role:"admin",loginAt:0})})}})});return s.jsx(s.Fragment,{children:s.jsxs(d,{display:"flex",height:"100%",children:[s.jsx(d,{flex:1,overflow:"hidden",children:l&&s.jsx("h1",{children:"Hello small"})}),s.jsxs(d,{display:"flex",flexDirection:"column",justifyContent:"center",gap:4,width:"100%",maxWidth:{md:450},p:[6,12],boxShadow:a=>a.shadows[2],children:[s.jsxs(d,{children:[s.jsx(v,{variant:"h4",children:"Wellcome to here!"}),s.jsx(v,{variant:"body2",sx:{overflow:"hidden",maxHeight(a){return`calc(${a.typography.body1.lineHeight}em * 3)`}},children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Porro omnis sed fugiat placeat alias illo praesentium."})]}),s.jsx(ct,{onSubmit:f,noValidate:!0,autoComplete:"off",sx:{display:"flex",flexDirection:"column",gap:4},children:s.jsxs(W,{...r,children:[s.jsx(_,{name:"email",label:"Email"}),s.jsx(z,{name:"passwd",label:"Password"}),s.jsxs(d,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsx(st,{control:s.jsx(N,{name:"isRemember"}),label:s.jsx(v,{variant:"body2",children:"Remember Me"})}),s.jsx(L,{variant:"body2",component:F,to:"/forgot-passwd",children:"Forgot Password?"})]}),s.jsx(rt,{loading:e.isPending,type:"submit",variant:"contained",fullWidth:!0,size:"large",children:"sign in"})]})}),s.jsxs(d,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsx(v,{variant:"body2",children:"New on our platform?"}),s.jsx(L,{variant:"body2",component:F,to:"/register",children:"Create an account"})]}),s.jsx(it,{children:"Or"}),s.jsxs(d,{display:"flex",justifyContent:"center",gap:4,children:[s.jsx(w,{children:s.jsx(J,{})}),s.jsx(w,{children:s.jsx(K,{})}),s.jsx(w,{children:s.jsx(ot,{})}),s.jsx(w,{children:s.jsx(X,{})})]})]})]})})}const ct=nt("form")({});export{ue as Component};
