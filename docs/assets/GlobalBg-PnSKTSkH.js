import{x as n,f as s,h as i,ac as u,j as e}from"./index-NOl4DqEL.js";import{u as c}from"./useQuery-2Is_QAsX.js";import{l}from"./SkeletonCard-94_y6wPc.js";import{B as a}from"./Box-ECGFyPyF.js";import{B as g}from"./Backdrop-NlEYlFVr.js";import{C as m}from"./CircularProgress-zUVyPBwz.js";function b(){const o=n();return c({queryKey:["bg-img"],async queryFn(){const t=o.getQueryData(["bg-img"]);typeof t=="string"&&URL.revokeObjectURL(t);const r=await l.getItem("bg-img");if(r)return URL.createObjectURL(r);throw new Error},staleTime:0,retry:!1})}function j(){const o=b(),t=s(i(r=>({bgAlpha:r.bgAlpha,bgBlur:r.bgBlur})));return u.createPortal(e.jsxs(e.Fragment,{children:[e.jsx(a,{position:"fixed",zIndex:-1,sx:{inset:0,backgroundImage:`url(${o.data})`,backgroundAttachment:"fixed",backgroundSize:"cover",filter:`blur(${20*(t.bgBlur/100)}px)`,transition(r){return r.transitions.create("filter")}},children:e.jsx(a,{position:"absolute",sx:{inset:0,bgcolor:`rgba(0,0,0,${t.bgAlpha/100})`,transition(r){return r.transitions.create("background-color")}}})}),e.jsx(g,{open:o.isPending,sx:{color:"common.white"},children:e.jsx(m,{color:"inherit"})})]}),document.body)}export{j as G,b as u};
