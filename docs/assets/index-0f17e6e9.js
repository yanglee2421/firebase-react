var O=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)};var i=(r,t,e)=>(O(r,t,"read from private field"),e?e.call(r):t.get(r)),p=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},d=(r,t,e,o)=>(O(r,t,"write to private field"),o?o.call(r,e):t.set(r,e),e);var b=(r,t,e)=>(O(r,t,"access private method"),e);import{S as $,s as q,m as B,o as R,p as T,r as y,a as G,n as I,j as s,L as F}from"./index-39bca082.js";import{u as H,F as U,I as W}from"./item-text-2a096228.js";import{o as A,c as Q,a as L,b as V}from"./index.esm-e18b3114.js";import"./Editor-0cd93ceb.js";import{I as _,a as z,L as k,b as N,F as J}from"./item-passwd-46793243.js";import"./scrollbar-1f7d4646.js";import"./copy-btn-59739d6d.js";import{u as K}from"./use-login-b026bd78.js";import{s as X}from"./utils-73056672.js";import{u as Y}from"./useTheme-248c7ca6.js";import{u as Z}from"./useMediaQuery-4a8d810e.js";import{B as x}from"./Box-cc9dfd1b.js";import{T as w}from"./Typography-221269d8.js";import{F as tt}from"./InputAdornment-223ac96d.js";import{D as et}from"./Divider-63068da5.js";import{I as C}from"./IconButton-0cbe6497.js";import{T as st,G as rt}from"./Twitter-30faed38.js";import{G as it}from"./GitHub-5ee82025.js";import{s as ot}from"./ButtonBase-befaa8cf.js";import"./TextField-bc0e0a84.js";import"./Select-6d84fa49.js";import"./Menu-31b94cc0.js";import"./Modal-a5c5f5b6.js";import"./List-a5b106e5.js";import"./ListContext-db138cec.js";import"./Transition-d8a14a65.js";import"./ownerDocument-613eb639.js";import"./Paper-83ab9384.js";import"./Grow-0935a4e2.js";import"./useControlled-18b7538f.js";import"./useId-c124f6a2.js";import"./useFormControl-6df88d0b.js";import"./createSvgIcon-e53fa7cc.js";import"./TextareaAutosize-5886625c.js";import"./isMuiElement-6eacd4ba.js";import"./Button-2d2033ee.js";import"./get-usr-map-cd6eda0e.js";import"./Popper-9c5ad7c8.js";import"./extendSxProp-7979e73e.js";import"./SwitchBase-6632aca9.js";import"./styled-af23217a.js";import"./dividerClasses-4ef735a9.js";var c,n,a,u,j,S,g,M,P,nt=(P=class extends ${constructor(t,e){super();p(this,j);p(this,g);p(this,c,void 0);p(this,n,void 0);p(this,a,void 0);p(this,u,void 0);d(this,n,void 0),d(this,c,t),this.setOptions(e),this.bindMethods(),b(this,j,S).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var o;const e=this.options;this.options=i(this,c).defaultMutationOptions(t),q(e,this.options)||i(this,c).getMutationCache().notify({type:"observerOptionsUpdated",mutation:i(this,a),observer:this}),(o=i(this,a))==null||o.setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=i(this,a))==null||t.removeObserver(this)}onMutationUpdate(t){b(this,j,S).call(this),b(this,g,M).call(this,t)}getCurrentResult(){return i(this,n)}reset(){d(this,a,void 0),b(this,j,S).call(this),b(this,g,M).call(this)}mutate(t,e){var o;return d(this,u,e),(o=i(this,a))==null||o.removeObserver(this),d(this,a,i(this,c).getMutationCache().build(i(this,c),this.options)),i(this,a).addObserver(this),i(this,a).execute(t)}},c=new WeakMap,n=new WeakMap,a=new WeakMap,u=new WeakMap,j=new WeakSet,S=function(){var e;const t=((e=i(this,a))==null?void 0:e.state)??B();d(this,n,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},g=new WeakSet,M=function(t){R.batch(()=>{var e,o,l,f,h,m,v,E;i(this,u)&&this.hasListeners()&&((t==null?void 0:t.type)==="success"?((o=(e=i(this,u)).onSuccess)==null||o.call(e,t.data,i(this,n).variables,i(this,n).context),(f=(l=i(this,u)).onSettled)==null||f.call(l,t.data,null,i(this,n).variables,i(this,n).context)):(t==null?void 0:t.type)==="error"&&((m=(h=i(this,u)).onError)==null||m.call(h,t.error,i(this,n).variables,i(this,n).context),(E=(v=i(this,u)).onSettled)==null||E.call(v,void 0,t.error,i(this,n).variables,i(this,n).context))),this.listeners.forEach(D=>{D(i(this,n))})})},P);function at(r,t){const e=T(t),[o]=y.useState(()=>new nt(e,r));y.useEffect(()=>{o.setOptions(r)},[o,r]);const l=y.useSyncExternalStore(y.useCallback(h=>o.subscribe(R.batchCalls(h)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),f=y.useCallback((h,m)=>{o.mutate(h,m).catch(mt)},[o]);if(l.error&&X(o.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:f,mutateAsync:l.mutate}}function mt(){}function lt(r){return G({method:"POST",url:"/usr",...r})}function ut(){const r=T();return at({mutationFn(t){return lt(t)},onSuccess(t){r.setQueryData(["usr_get"],e=>e?{...e,...t}:t),I.success("Welcome back!")},onError(t){I.error(t.message)}})}function ee(){const r=H({defaultValues:{email:"",passwd:"",isRemember:!1},resolver:A(Q().shape({email:L().email().max(50).required(),passwd:L().min(8).max(16).required(),isRemember:V()}))}),{signIn:t}=K(),{mutateAsync:e,isPending:o}=ut(),l=r.handleSubmit(async m=>{console.log(m);const v=await e({data:m});t({...v,role:"admin",loginAt:0})}),f=Y(),h=Z(f.breakpoints.down("md"));return s.jsxs(x,{display:"flex",height:"100%",children:[s.jsx(x,{flex:1,overflow:"hidden",children:h&&s.jsx("h1",{children:"Hello small"})}),s.jsxs(x,{display:"flex",flexDirection:"column",justifyContent:"center",gap:4,width:"100%",maxWidth:{md:450},p:[6,12],boxShadow:m=>m.shadows[2],children:[s.jsxs(x,{children:[s.jsx(w,{variant:"h4",children:"Wellcome to here!"}),s.jsx(w,{variant:"body2",sx:{overflow:"hidden",maxHeight(m){return`calc(${m.typography.body1.lineHeight}em * 3)`}},children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Porro omnis sed fugiat placeat alias illo praesentium."})]}),s.jsx(ht,{onSubmit:l,noValidate:!0,autoComplete:"off",sx:{display:"flex",flexDirection:"column",gap:4},children:s.jsxs(U,{...r,children:[s.jsx(W,{name:"email",label:"Email"}),s.jsx(_,{name:"passwd",label:"Password"}),s.jsxs(x,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsx(tt,{control:s.jsx(z,{name:"remember"}),label:s.jsx(w,{variant:"body2",children:"Remember Me"})}),s.jsx(k,{variant:"body2",component:F,to:{pathname:"/forgot-passwd"},children:"Forgot Password?"})]}),s.jsx(N,{loading:o,type:"submit",variant:"contained",fullWidth:!0,size:"large",children:"sign in"})]})}),s.jsxs(x,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s.jsx(w,{variant:"body2",children:"New on our platform?"}),s.jsx(k,{variant:"body2",component:F,to:{pathname:"/register"},children:"Create an account"})]}),s.jsx(et,{children:"Or"}),s.jsxs(x,{display:"flex",justifyContent:"center",gap:4,children:[s.jsx(C,{children:s.jsx(J,{})}),s.jsx(C,{children:s.jsx(st,{})}),s.jsx(C,{children:s.jsx(it,{})}),s.jsx(C,{children:s.jsx(rt,{})})]})]})]})}const ht=ot("form")({});export{ee as Component};
