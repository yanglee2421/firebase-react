import{R as S,f as D,h as I,j as e}from"./index-NOl4DqEL.js";import"./Editor-Leo8qfg-.js";import{S as k,l as v}from"./SkeletonCard-94_y6wPc.js";import{u as A,G as M}from"./GlobalBg-PnSKTSkH.js";import{u as R,S as T,C as F,a as h,D as L}from"./useBgImgMutation-5mu90PoW.js";import"./copy-btn-XFFgqXmR.js";import{u as Q}from"./useMediaQuery-ab3dVN14.js";import{I as d}from"./IconButton-Ji51lX6_.js";import{M as z}from"./Menu-e-GaLhlp.js";import{B as o}from"./Box-ECGFyPyF.js";import{C as E}from"./Close-pvPe6BCE.js";import{D as G}from"./Divider-L25Ixv9k.js";import{S as O}from"./Stack-W9-MNvce.js";import{C as u,a as x}from"./CardHeader-QBBSwnV9.js";import{T as H}from"./Typography-PeIQuIa_.js";import{C as a}from"./CardContent-o2_FOQpp.js";import{C as P}from"./CardActions-_wXGfAGR.js";import{B as g}from"./Button-5LEC6PDI.js";import{s}from"./ButtonBase-7zDRXYUG.js";import"./fabric-Y98Y_bQ5.js";import"./index-9djbFzGf.js";import"./Skeleton-aUiZU9k7.js";import"./useQuery-2Is_QAsX.js";import"./useBaseQuery--DcYw5oo.js";import"./utils-1RRThafF.js";import"./Backdrop-NlEYlFVr.js";import"./useTheme-GuQ9oku8.js";import"./utils-7yFeARfI.js";import"./Transition-z-EYftQ6.js";import"./CircularProgress-zUVyPBwz.js";import"./isHostComponent-jcd54X0C.js";import"./useControlled-zkqhxYod.js";import"./ownerDocument-bIJBxlvi.js";import"./Portal-kQ69nwgj.js";import"./Drawer-M0vdAlB1.js";import"./Modal-Xh0EGuVc.js";import"./ownerWindow-LT9-6hbI.js";import"./Paper-61t9uWkm.js";import"./createSvgIcon-Pd_Bs2QI.js";import"./useMutation-q_AUA4Pg.js";import"./Tooltip-NFGqnXhD.js";import"./Popper-JhJLztZU.js";import"./Grow-5aA_Tu-g.js";import"./extendSxProp-67_cfwlG.js";import"./dividerClasses-rh6NTVqr.js";import"./styled-BTqVtLFW.js";function U(){const[f,n]=S.useState(!1),j=Q(t=>t.breakpoints.down("sm")),l=A(),y=R(),i=D(I(t=>({bgAlpha:t.bgAlpha,setBgAlpha:t.setBgAlpha,bgBlur:t.bgBlur,setBgBlur:t.setBgBlur}))),m=()=>{n(!1)},p=()=>{n(!0)},B=t=>{var c;const r=(c=t.target.files)==null?void 0:c[0];r&&y.mutate(r)},b=(t,r)=>{typeof r=="number"&&i.setBgAlpha(r)},w=(t,r)=>{typeof r=="number"&&i.setBgBlur(r)},C=async()=>{const t=await v.getItem("bg-img");t&&navigator.share({url:window.location.href,title:"Share feature",text:t.name,files:[t]})};return e.jsxs(e.Fragment,{children:[e.jsx(d,{onClick:p,color:"inherit",sx:{position:"absolute",top:"1rem",right:"1rem"},children:e.jsx(z,{})}),e.jsx(T,{open:f,onOpen:p,onClose:m,anchor:j?"top":"right",hideBackdrop:!0,sx:{"& > .MuiPaper-root":{height:"100%"}},children:e.jsxs(o,{display:"flex",flexDirection:"column",width:{sm:400},height:"100%",children:[e.jsx(o,{p:2,children:e.jsx(d,{onClick:m,children:e.jsx(E,{})})}),e.jsx(G,{}),e.jsx(o,{flex:1,overflow:"hidden",children:e.jsx(k,{children:e.jsxs(o,{p:4,bgcolor:t=>t.palette.background.default,children:[e.jsxs(O,{spacing:6,children:[e.jsxs(u,{children:[e.jsx(x,{title:e.jsx(H,{variant:"h6",children:"Wallpaper"})}),e.jsx(a,{children:e.jsxs(F,{component:"label",title:"click to change image",sx:{color:"common.white"},children:[e.jsx(V,{src:l.data,alt:"",sx:{width:"100%",aspectRatio:"16/9",verticalAlign:"bottom"}}),e.jsx("input",{value:"",onChange:B,type:"file",hidden:!0})]})}),e.jsxs(a,{children:[e.jsx(h,{value:i.bgAlpha,onChange:b,valueLabelDisplay:"auto"}),e.jsx(h,{value:i.bgBlur,onChange:w,valueLabelDisplay:"auto"})]}),e.jsx(P,{children:e.jsx(g,{size:"small",LinkComponent:"a",href:l.data||"",download:`${Date.now()}.png`,title:"download image",startIcon:e.jsx(L,{fontSize:"small"}),sx:{textTransform:"lowercase"},children:"download"})})]}),e.jsxs(u,{children:[e.jsx(x,{title:"Share"}),e.jsx(a,{children:e.jsx(g,{onClick:C,children:"share"})})]})]}),e.jsx(o,{height:1e3})]})})})]})})]})}const V=s("img")({});function Oe(){return e.jsxs(e.Fragment,{children:[e.jsx(M,{}),e.jsxs(o,{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:"common.white",children:[e.jsx(U,{}),e.jsxs($,{children:[e.jsxs(q,{children:[e.jsx("li",{children:e.jsxs("label",{children:["网页",e.jsx("input",{type:"radio",name:"subject"})]})}),e.jsx("li",{children:e.jsxs("label",{children:["图片",e.jsx("input",{type:"radio",name:"subject"})]})})]}),e.jsx(W,{placeholder:"Search..."})]})]})]})}const W=s("input")({width:300,height:46,opacity:.85,outline:"none","&:active,&:focus":{opacity:1},textIndent:".5rem"}),$=s("form")({}),q=s("ul")({display:"flex",gap:"1rem",listStyle:"none",'& input[type="radio"]':{display:"none"},"& label":{cursor:"pointer",userSelect:"none","&:has(input:checked)":{color:"red"}}});export{Oe as Component};
