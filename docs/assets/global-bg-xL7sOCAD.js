import{i as a,g as s,Z as c,j as e}from"./index-y-D59f-l.js";import{u}from"./useQuery-T8jY0AKm.js";import{l}from"./localforage-Z2xZRT0t.js";import{B as i}from"./Box-gGW_-ZGs.js";import{B as g}from"./Backdrop-EpG-_wG6.js";import{C as m}from"./CircularProgress-0PcbA24j.js";function b(){const t=a();return u({queryKey:["bg-img"],async queryFn(){const o=t.getQueryData(["bg-img"]);typeof o=="string"&&URL.revokeObjectURL(o);const n=await l.getItem("bg-img");if(n)return URL.createObjectURL(n);throw new Error},staleTime:0,retry:!1})}function j(){const t=b(),o=s(r=>r.theme.bgAlpha),n=s(r=>r.theme.bgBlur);return c.createPortal(e.jsxs(e.Fragment,{children:[e.jsx(i,{position:"fixed",zIndex:-1,sx:{inset:0,backgroundImage:`url(${t.data})`,backgroundAttachment:"fixed",backgroundSize:"cover",filter:`blur(${20*(n/100)}px)`,transition(r){return r.transitions.create("filter")}},children:e.jsx(i,{position:"absolute",sx:{inset:0,bgcolor:`rgba(0,0,0,${o/100})`,transition(r){return r.transitions.create("background-color")}}})}),e.jsx(g,{open:t.isPending,sx:{color:"common.white"},children:e.jsx(m,{color:"inherit"})})]}),document.body)}export{j as G,b as u};
